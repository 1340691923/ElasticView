(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5879459f"],{"00d2d":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("el-radio",{staticClass:"filter-item",attrs:{label:""},on:{change:t.search},model:{value:t.input.typ,callback:function(e){t.$set(t.input,"typ",e)},expression:"input.typ"}},[t._v(t._s(t.$t("全部")))]),t._v(" "),n("el-radio",{staticClass:"filter-item",attrs:{label:"mysql"},on:{change:t.search},model:{value:t.input.typ,callback:function(e){t.$set(t.input,"typ",e)},expression:"input.typ"}},[t._v(t._s(t.$t("mysql")))]),t._v(" "),n("el-radio",{staticClass:"filter-item",attrs:{label:"clickhouse"},on:{change:t.search},model:{value:t.input.typ,callback:function(e){t.$set(t.input,"typ",e)},expression:"input.typ"}},[t._v(t._s(t.$t("clickhouse"))+"\n    ")]),t._v(" "),n("el-input",{staticClass:"filter-item",staticStyle:{width:"300px"},attrs:{clearable:"",placeholder:t.$t("备注")},model:{value:t.input.remark,callback:function(e){t.$set(t.input,"remark",e)},expression:"input.remark"}}),t._v(" "),n("el-button",{staticClass:"filter-item",attrs:{size:"mini",type:"success"},on:{click:t.search}},[t._v(t._s(t.$t("查询"))+"\n    ")]),t._v(" "),n("el-button",{staticClass:"filter-item",attrs:{size:"mini",type:"primary"},nativeOn:{click:function(e){t.open=!0}}},[t._v(t._s(t.$t("新增"))+"\n    ")])],1),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],attrs:{data:t.tableData}},[n("el-table-column",{attrs:{width:"80",align:"center",prop:"id",label:"id"}}),t._v(" "),n("el-table-column",{attrs:{width:"100",align:"center",label:t.$t("类型")},scopedSlots:t._u([{key:"default",fn:function(e){return["clickhouse"==e.row.typ?n("el-tag",{attrs:{type:"primary"}},[t._v("\n          "+t._s(e.row.typ)+"\n        ")]):t._e(),t._v(" "),"mysql"==e.row.typ?n("el-tag",{attrs:{type:"success"}},[t._v("\n          "+t._s(e.row.typ)+"\n        ")]):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"ip",label:"ip",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"port",label:t.$t("端口"),width:"80"}}),t._v(" "),n("el-table-column",{attrs:{width:"100",align:"center",prop:"username",label:t.$t("用户名")}}),t._v(" "),n("el-table-column",{attrs:{width:"100",prop:"db_name",label:t.$t("数据库名")}}),t._v(" "),n("el-table-column",{attrs:{align:"center",width:"100",prop:"remark",label:t.$t("备注")}}),t._v(" "),n("el-table-column",{attrs:{width:"200",align:"center",prop:"created",label:t.$t("创建时间")}}),t._v(" "),n("el-table-column",{attrs:{width:"200",align:"center",prop:"updated",label:t.$t("修改时间")}}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:t.$t("操作"),fixed:"right",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingList[e.$index].loading,expression:"loadingList[scope.$index].loading"}],attrs:{icon:"el-icon-link",type:"success",size:"mini",disabled:t.loadingList[e.$index].loading},on:{click:function(n){return t.link({typ:e.row.typ,db_name:e.row.db_name,ip:e.row.ip,port:e.row.port,username:e.row.username,pwd:e.row.pwd},e.$index)}}},[t._v(t._s(t.$t("测试连接"))+"\n        ")]),t._v(" "),n("el-button",{attrs:{icon:"el-icon-delete",type:"danger",size:"mini"},on:{click:function(n){return t.deleteById(e.row.id)}}},[t._v(t._s(t.$t("删除"))+"\n        ")])]}}])})],1),t._v(" "),n("div",{staticClass:"pagination-container"},[t.pageshow?n("el-pagination",{attrs:{background:"","current-page":t.input.page,"page-size":t.input.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.count},on:{"current-change":t.search,"size-change":t.handleSizeChange}}):t._e()],1),t._v(" "),n("el-dialog",{attrs:{"close-on-click-modal":!1,visible:t.open,title:t.$t("新增数据源")},on:{"update:visible":function(e){t.open=e},close:t.closeDialog}},[n("el-card",{staticClass:"box-card"},[n("el-form",{attrs:{"label-width":"300px","label-position":"left"}},[n("el-form-item",{attrs:{label:"IP"}},[n("el-input",{attrs:{clearable:"",placeholder:"127.0.0.1"},model:{value:t.form.ip,callback:function(e){t.$set(t.form,"ip",e)},expression:"form.ip"}})],1),t._v(" "),n("el-form-item",{attrs:{label:t.$t("端口")}},[n("el-input",{attrs:{placeholder:"3306"},model:{value:t.form.port,callback:function(e){t.$set(t.form,"port",e)},expression:"form.port"}})],1),t._v(" "),n("el-form-item",{attrs:{label:t.$t("用户名")}},[n("el-input",{attrs:{clearable:"",placeholder:"mysql"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),t._v(" "),n("el-form-item",{attrs:{label:t.$t("密码")}},[n("el-input",{attrs:{clearable:"",placeholder:"root"},model:{value:t.form.pwd,callback:function(e){t.$set(t.form,"pwd",e)},expression:"form.pwd"}})],1),t._v(" "),n("el-form-item",{attrs:{label:t.$t("数据库名")}},[n("el-input",{attrs:{clearable:"",placeholder:"mysql"},model:{value:t.form.db_name,callback:function(e){t.$set(t.form,"db_name",e)},expression:"form.db_name"}})],1),t._v(" "),n("el-form-item",{attrs:{label:t.$t("备注")}},[n("el-input",{attrs:{clearable:"",placeholder:"测试"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1),t._v(" "),n("el-form-item",{attrs:{label:t.$t("数据源类型")}},[n("el-radio",{attrs:{label:"mysql"},model:{value:t.form.typ,callback:function(e){t.$set(t.form,"typ",e)},expression:"form.typ"}},[t._v("mysql")]),t._v(" "),n("el-radio",{attrs:{label:"clickhouse"},model:{value:t.form.typ,callback:function(e){t.$set(t.form,"typ",e)},expression:"form.typ"}},[t._v("clickhouse")])],1)],1),t._v(" "),n("div",{staticStyle:{"text-align":"right"}},[n("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-close"},on:{click:t.closeDialog}},[t._v(t._s(t.$t("取消"))+"\n        ")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-check"},on:{click:t.add}},[t._v(t._s(t.$t("确认"))+"\n        ")]),t._v(" "),n("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.formLinkLoading,expression:"formLinkLoading"}],attrs:{size:"mini",disabled:t.formLinkLoading,type:"success",icon:"el-icon-link"},on:{click:function(e){return t.link({typ:t.form.typ,db_name:t.form.db_name,ip:t.form.ip,port:t.form.port,username:t.form.username,pwd:t.form.pwd})}}},[t._v(t._s(t.$t("测试连接"))+"\n        ")])],1)],1)],1)],1)},r=[],i=(n("e680"),n("e186"),n("c3ae")),s=(n("d91d"),n("8437")),o={ip:"127.0.0.1",port:3306,db_name:"test",username:"root",pwd:"",remark:"test",typ:"mysql"},l={name:"Link",data:function(){return{formLinkLoading:!1,count:0,pageshow:!0,tableData:[],form:Object.assign({},o),input:{remark:"",typ:"",page:1,limit:10},loadingList:[],tableLoading:!1,open:!1}},created:function(){this.search()},methods:{link:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,n){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return""==e.port&&(e.port=0),e.port=Number(e.port),void 0!=n?this.loadingList[n]["loading"]=!0:this.formLinkLoading=!0,t.next=5,Object(s["i"])(e);case 5:if(a=t.sent,void 0!=n?this.loadingList[n].loading=!1:this.formLinkLoading=!1,0==a.code){t.next=10;break}return this.$message({type:"error",message:a.msg}),t.abrupt("return");case 10:this.$message({type:"success",message:a.msg});case 11:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}(),deleteById:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["b"])({id:e});case 2:if(n=t.sent,0==n.code){t.next=6;break}return this.$message({type:"error",message:n.msg}),t.abrupt("return");case 6:this.$message({type:"success",message:n.msg}),this.search();case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),refreshPage:function(){var t=this;this.pageshow=!1,this.count=this.tableData.length,this.$nextTick((function(){t.pageshow=!0}))},handleSizeChange:function(t){this.input.limit=t,this.refreshPage()},add:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return""==this.form.port&&(this.form.port=0),this.form.port=Number(this.form.port),t.next=4,Object(s["f"])(this.form);case 4:if(e=t.sent,0==e.code){t.next=8;break}return this.$message({type:"error",message:e.msg}),t.abrupt("return");case 8:this.$message({type:"success",message:e.msg}),this.open=!1,this.search();case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),closeDialog:function(){this.open=!1,this.form=Object.assign({},o),this.formLinkLoading=!1},search:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.tableLoading=!0,t.next=3,Object(s["g"])(this.input);case 3:if(e=t.sent,0==e.code){t.next=7;break}return this.$message({type:"error",message:e.msg}),t.abrupt("return");case 7:for(n in this.tableData=e.data.data,this.count=e.data.count,null==this.tableData&&(this.tableData=[]),this.loadingList=[],this.tableData)this.loadingList.push({loading:!1});this.$message({type:"success",message:e.msg}),this.tableLoading=!1;case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleClick:function(){}}},c=l,u=n("cba8"),p=Object(u["a"])(c,a,r,!1,null,"c812a4a4",null);e["default"]=p.exports},8437:function(t,e,n){"use strict";n.d(e,"g",(function(){return i})),n.d(e,"f",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"i",(function(){return l})),n.d(e,"h",(function(){return c})),n.d(e,"e",(function(){return u})),n.d(e,"d",(function(){return p})),n.d(e,"j",(function(){return m})),n.d(e,"k",(function(){return d})),n.d(e,"a",(function(){return f})),n.d(e,"c",(function(){return b}));var a=n("b775"),r="/api/datax/";function i(t){return Object(a["a"])({url:r+"LinkInfoList",method:"post",data:t})}function s(t){return Object(a["a"])({url:r+"InsertLink",method:"post",data:t})}function o(t){return Object(a["a"])({url:r+"DelLinkById",method:"post",data:t})}function l(t){return Object(a["a"])({url:r+"TestLink",method:"post",data:t})}function c(t){return Object(a["a"])({url:r+"LinkSelectOpt",method:"post",data:t})}function u(t){return Object(a["a"])({url:r+"Tables",method:"post",data:t})}function p(t){return Object(a["a"])({url:r+"GetTableColumns",method:"post",data:t})}function m(t){return Object(a["a"])({url:r+"Transfer",method:"post",data:t})}function d(t){return Object(a["a"])({url:r+"TransferLogList",method:"post",data:t})}function f(t){return Object(a["a"])({url:r+"CancelTaskById",method:"post",data:t})}function b(t){return Object(a["a"])({url:r+"DeleteTaskById",method:"post",data:t})}}}]);