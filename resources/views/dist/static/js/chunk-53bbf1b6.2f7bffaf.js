(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53bbf1b6"],{"051c":function(e,t,n){},"066a":function(e,t,n){"use strict";n("051c")},"0f69":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("el-button",{staticClass:"filter-item",attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:e.handleAddRole}},[e._v(e._s(e.$t("新建用户"))+"\n    ")])],1),e._v(" "),n("el-table",{attrs:{data:e.rolesList}},[n("el-table-column",{attrs:{label:e.$t("序号"),align:"center",fixed:"",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.$index+1)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"id",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.id)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:e.$t("用户名"),width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.username)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:e.$t("所属角色"),width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.role_name)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:e.$t("真实姓名")},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.realname)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:e.$t("操作"),fixed:"right",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(n){return e.handleEdit(t)}}},[e._v(e._s(e.$t("编辑"))+"\n        ")]),e._v(" "),n("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(n){return e.handleDelete(t)}}},[e._v(e._s(e.$t("删除"))+"\n        ")])]}}])})],1),e._v(" "),n("el-dialog",{attrs:{"close-on-click-modal":!1,visible:e.dialogVisible,title:"edit"===e.dialogType?e.$t("编辑用户信息"):e.$t("新建用户信息")},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-form",{attrs:{model:e.role,"label-width":"100px","label-position":"left"}},[n("el-form-item",{attrs:{label:e.$t("用户名")}},[n("el-input",{attrs:{placeholder:e.$t("用户名")},model:{value:e.role.username,callback:function(t){e.$set(e.role,"username",t)},expression:"role.username"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("密码")}},[n("el-input",{attrs:{placeholder:e.$t("密码")},model:{value:e.role.password,callback:function(t){e.$set(e.role,"password",t)},expression:"role.password"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("真实姓名")}},[n("el-input",{attrs:{placeholder:e.$t("真实姓名")},model:{value:e.role.realname,callback:function(t){e.$set(e.role,"realname",t)},expression:"role.realname"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("请选择角色")}},[n("el-select",{attrs:{placeholder:e.$t("请选择角色"),clearable:"",filterable:""},model:{value:e.role.role_id,callback:function(t){e.$set(e.role,"role_id",t)},expression:"role.role_id"}},e._l(e.chanCfgList,(function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),e._v(" "),n("div",{staticStyle:{"text-align":"right"}},[n("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-close"},on:{click:function(t){e.dialogVisible=!1}}},[e._v(e._s(e.$t("取消"))+"\n      ")]),e._v(" "),n("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-check"},on:{click:e.confirmRole}},[e._v(e._s(e.$t("确认"))+"\n      ")])],1)],1)],1)},i=[],a=(n("9f60"),n("94f0"),n("0c84"),n("2843"),n("4057"),n("a450"),n("e186"),n("c3ae")),l=n("ed08"),o=n("c24f");function s(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){o=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(o)throw a}}}}function c(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d={id:"",password:"",realname:"",role_id:"",username:"",role_name:""},f={data:function(){return{role:Object.assign({},d),routes:[],rolesList:[],dialogVisible:!1,dialogType:"new",checkStrictly:!1,defaultProps:{children:"children",label:"title"},chanCfgList:[],chanCfgMap:[]}},computed:{},created:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getRoleOpt();case 2:this.getUserList();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{getRoleOpt:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["g"])();case 2:t=e.sent,n=s(t.data);try{for(n.s();!(r=n.n()).done;)i=r.value,this.chanCfgList.push(i),this.chanCfgMap[i["id"]]=i["name"]}catch(a){n.e(a)}finally{n.f()}case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getUserList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["h"])();case 2:for(n in t=e.sent,t.data)t.data[n]["role_name"]=this.chanCfgMap[t.data[n]["role_id"]];this.rolesList=t.data;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleAddRole:function(){this.role=Object.assign({},d),this.dialogType="new",this.dialogVisible=!0},handleEdit:function(e){this.dialogType="edit",this.dialogVisible=!0,this.checkStrictly=!0,this.role=Object(l["c"])(e.row),this.role.password=""},handleDelete:function(e){var t=this,n=e.$index,r=e.row;this.$confirm("确定删除该用户吗?","警告",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["a"])({id:r.id});case 2:t.rolesList.splice(n,1),t.$message({type:"success",message:"Delete succed!"});case 4:case"end":return e.stop()}}),e)})))).catch((function(e){console.error(e)}))},confirmRole:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,a,l,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t="edit"===this.dialogType,!(this.role.password.length<5&&""!=this.role.password.trim())){e.next=4;break}return this.$message({message:"密码长度必须大于5",type:"error"}),e.abrupt("return",!1);case 4:if(""!=this.role.role_id&&0!=this.role.role_id){e.next=7;break}return this.$message({message:"角色不能为空",type:"error"}),e.abrupt("return",!1);case 7:if(!t){e.next=13;break}return e.next=10,Object(o["c"])(this.role);case 10:this.getUserList(),e.next=18;break;case 13:return e.next=15,Object(o["b"])(this.role);case 15:n=e.sent,n.data,this.getUserList();case 18:r=this.role,i=r.username,a=r.password,l=r.id,s=r.role_name,c=r.realname,this.dialogVisible=!1,this.$notify({title:"Success",dangerouslyUseHTMLString:!0,message:"\n            <div>id: ".concat(l,"</div>\n            <div>用户名: ").concat(i,"</div>\n            <div>密码: ").concat(a,"</div>\n            <div>角色: ").concat(s,"</div>\n            <div>真实姓名: ").concat(c,"</div>\n          "),type:"success"});case 21:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},p=f,h=(n("066a"),n("cba8")),m=Object(h["a"])(p,r,i,!1,null,"596c16ee",null);t["default"]=m.exports}}]);