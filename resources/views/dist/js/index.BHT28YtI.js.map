{"version":3,"file":"index.BHT28YtI.js","sources":["../../../vue/src/components/GithubCorner/index.vue","../../../vue/src/enums/NoticeTypeEnum.ts","../../../vue/src/views/dashboard/index.vue"],"sourcesContent":["<template>\n  <a\n    href=\"https://github.com/1340691923/ElasticView\"\n    target=\"_blank\"\n    class=\"github-corner\"\n    aria-label=\"View source on Github\"\n  >\n    <svg\n      width=\"80\"\n      height=\"80\"\n      viewBox=\"0 0 250 250\"\n      style=\"color: #fff; fill: #40c9c6\"\n      aria-hidden=\"true\"\n    >\n      <path d=\"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z\" />\n      <path\n        d=\"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2\"\n        fill=\"currentColor\"\n        style=\"transform-origin: 130px 106px\"\n        class=\"octo-arm\"\n      />\n      <path\n        d=\"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z\"\n        fill=\"currentColor\"\n        class=\"octo-body\"\n      />\n    </svg>\n  </a>\n</template>\n\n<style scoped>\n.github-corner:hover .octo-arm {\n  animation: octocat-wave 560ms ease-in-out;\n}\n\n@keyframes octocat-wave {\n  0%,\n  100% {\n    transform: rotate(0);\n  }\n\n  20%,\n  60% {\n    transform: rotate(-25deg);\n  }\n\n  40%,\n  80% {\n    transform: rotate(10deg);\n  }\n}\n\n@media (width <= 500px) {\n  .github-corner .octo-arm {\n    animation: octocat-wave 560ms ease-in-out;\n  }\n\n  .github-corner:hover .octo-arm {\n    animation: none;\n  }\n}\n</style>\n","/* 通知类型枚举 */\nexport const enum NoticeTypeEnum {\n  /** 系统升级 */\n  SYSTEM_UPGRADE = \"SYSTEM_UPGRADE\",\n  /** 系统维护 */\n  SYSTEM_MAINTENANCE = \"SYSTEM_MAINTENANCE\",\n  /** 安全警告 */\n  SECURITY_ALERT = \"SECURITY_ALERT\",\n  /** 假期通知 */\n  HOLIDAY_NOTICE = \"HOLIDAY_NOTICE\",\n  /** 公司新闻 */\n  COMPANY_NEWS = \"COMPANY_NEWS\",\n  /** 其他通知 */\n  OTHER = \"OTHER\",\n}\n\n// 定义标签映射\nconst NoticeTypeLabels: Record<NoticeTypeEnum, string> = {\n  [NoticeTypeEnum.SYSTEM_UPGRADE]: \"系统升级\",\n  [NoticeTypeEnum.SYSTEM_MAINTENANCE]: \"系统维护\",\n  [NoticeTypeEnum.SECURITY_ALERT]: \"安全警告\",\n  [NoticeTypeEnum.HOLIDAY_NOTICE]: \"假期通知\",\n  [NoticeTypeEnum.COMPANY_NEWS]: \"公司新闻\",\n  [NoticeTypeEnum.OTHER]: \"其他通知\",\n};\n\n// 导出获取标签函数\nexport const getNoticeLabel = (type: NoticeTypeEnum): string => {\n  return NoticeTypeLabels[type] || \"\";\n};\n","<template>\n  <div class=\"dashboard-container\">\n    <github-corner class=\"github-corner\" />\n\n    <el-card shadow=\"never\">\n      <el-row justify=\"space-between\">\n        <el-col :span=\"18\" :xs=\"24\">\n          <div class=\"flex h-full items-center\">\n<!--            <img\n              class=\"w-20 h-20 mr-5 rounded-full\"\n              :src=\"userStore.user.avatar + '?imageView2/1/w/80/h/80'\"\n            />-->\n            <div>\n              <p>{{ greetings }}</p>\n              <p class=\"text-sm text-gray\">\n                但凡成功者，并非都出类拔萃，而是他们相信勤能补拙，只要忍受了，挺住了，成功早晚露出笑容\n              </p>\n            </div>\n          </div>\n        </el-col>\n\n<!--        <el-col :span=\"6\" :xs=\"24\">\n          <div class=\"flex h-full items-center justify-around\">\n            <el-statistic\n              v-for=\"item in statisticData\"\n              :key=\"item.key\"\n              :value=\"item.value\"\n            >\n              <template #title>\n                <div class=\"flex items-center\">\n                  <svg-icon :icon-class=\"item.iconClass\" size=\"20px\" />\n                  <span class=\"text-[16px] ml-1\">{{ item.title }}</span>\n                </div>\n              </template>\n              <template v-if=\"item.suffix\" #suffix>/100</template>\n            </el-statistic>\n          </div>\n        </el-col>-->\n      </el-row>\n      <el-row :gutter=\"10\" class=\"mt-5\">\n        <el-col :xs=\"24\" :sm=\"24\" :lg=\"12\" :span=\"8\">\n          <el-card>\n            <template #header>\n              <div class=\"flex-x-between\">\n                <div class=\"flex-y-center\">\n                  最新动态<el-icon class=\"ml-1\"><Notification /></el-icon>\n                </div>\n              </div>\n            </template>\n\n            <el-scrollbar >\n              <div\n                v-for=\"(item, index) in articleData.list.Data\"\n                :key=\"index\"\n                class=\"flex-y-center py-3\"\n              >\n                <el-tag :type=\"item.typ\" size=\"small\">\n                  {{ item.tag_name }}\n                </el-tag>\n                <el-text\n                  truncated\n                  class=\"!mx-2 flex-1 !text-xs !text-[var(--el-text-color-secondary)]\"\n                >\n                  {{ item.title }}\n                </el-text>\n                <a :href=\"item.link\" target=\"_blank\">\n                  <el-icon class=\"text-sm\"><View /></el-icon>\n                </a>\n              </div>\n            </el-scrollbar>\n          </el-card>\n        </el-col>\n\n      </el-row>\n\n      <es-dashbord v-if=\"isEs\"></es-dashbord>\n\n    </el-card>\n\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport {GetWxArticleList} from \"@/api/plugins\";\n\ndefineOptions({\n  name: \"Dashboard\",\n  inheritAttrs: false,\n});\n\nimport { useUserStore } from \"@/store/modules/user\";\nimport { NoticeTypeEnum, getNoticeLabel } from \"@/enums/NoticeTypeEnum\";\nimport {IndexsCountAction,CatAction} from \"@/api/es\";\nimport {GetEsConnect,GetEsConnectVer} from \"@/utils/es_link\";\nimport EsDashbord from \"@/views/dashboard/components/EsDashbord.vue\";\n\nconst isEs = computed(()=>{\n  return `${GetEsConnectVer()}`.indexOf('elasticsearch') !==-1\n})\n\nconst userStore = useUserStore();\n\nconst date: Date = new Date();\nconst greetings = computed(() => {\n  const hours = date.getHours();\n  if (hours >= 6 && hours < 8) {\n    return \"晨起披衣出草堂，轩窗已自喜微凉🌅！\";\n  } else if (hours >= 8 && hours < 12) {\n    return \"上午好，\" + userStore.user.username + \"！\";\n  } else if (hours >= 12 && hours < 18) {\n    return \"下午好，\" + userStore.user.username + \"！\";\n  } else if (hours >= 18 && hours < 24) {\n    return \"晚上好，\" + userStore.user.username + \"！\";\n  } else {\n    return \"偷偷向银河要了一把碎星，只等你闭上眼睛撒入你的梦中，晚安🌛！\";\n  }\n});\n\nconst notices = ref([\n  {\n    level: 2,\n    type: NoticeTypeEnum.SYSTEM_UPGRADE,\n    title: \"v2.12.0 新增系统日志，访问趋势统计功能。\",\n  },\n  {\n    level: 0,\n    type: NoticeTypeEnum.COMPANY_NEWS,\n    title: \"公司将在 7 月 1 日举办年中总结大会，请各部门做好准备。\",\n  },\n  {\n    level: 3,\n    type: NoticeTypeEnum.HOLIDAY_NOTICE,\n    title: \"端午节假期从 6 月 12 日至 6 月 14 日放假，共 3 天。\",\n  },\n\n  {\n    level: 2,\n    type: NoticeTypeEnum.SECURITY_ALERT,\n    title: \"最近发现一些钓鱼邮件，请大家提高警惕，不要点击陌生链接。\",\n  },\n  {\n    level: 2,\n    type: NoticeTypeEnum.SYSTEM_MAINTENANCE,\n    title: \"系统将于本周六凌晨 2 点进行维护，预计维护时间为 2 小时。\",\n  },\n  {\n    level: 0,\n    type: NoticeTypeEnum.OTHER,\n    title: \"公司新规章制度发布，请大家及时查阅。\",\n  },\n  {\n    level: 3,\n    type: NoticeTypeEnum.HOLIDAY_NOTICE,\n    title: \"中秋节假期从 9 月 22 日至 9 月 24 日放假，共 3 天。\",\n  },\n  {\n    level: 1,\n    type: NoticeTypeEnum.COMPANY_NEWS,\n    title: \"公司将在 10 月 15 日举办新产品发布会，敬请期待。\",\n  },\n  {\n    level: 2,\n    type: NoticeTypeEnum.SECURITY_ALERT,\n    title:\n      \"请注意，近期有恶意软件通过即时通讯工具传播，请勿下载不明来源的文件。\",\n  },\n  {\n    level: 2,\n    type: NoticeTypeEnum.SYSTEM_MAINTENANCE,\n    title: \"系统将于下周日凌晨 3 点进行升级，预计维护时间为 1 小时。\",\n  },\n  {\n    level: 3,\n    type: NoticeTypeEnum.OTHER,\n    title: \"公司年度体检通知已发布，请各位员工按时参加。\",\n  },\n]);\n\nconst articleData = reactive({\n  list:[],\n})\n\nconst GetArticleData = async ()=>{\n  //await SearchBigMode({content:\"mysql如何拼接字符串\"})\n\n  let res =  await GetWxArticleList({})\n  if(res.code != 0){\n    ElMessage.error(res.msg);\n    return\n  }\n\n  articleData.list = res.data\n\n  return\n}\n\n\nonMounted(()=>{\n  GetArticleData()\n})\n\n</script>\n\n<style lang=\"scss\" scoped>\n.dashboard-container {\n  position: relative;\n  padding: 24px;\n\n  .github-corner {\n    position: absolute;\n    top: 0;\n    right: 0;\n    z-index: 1;\n    border: 0;\n  }\n}\n</style>\n"],"names":["_hoisted_1","href","target","class","_hoisted_2","width","height","viewBox","style","color","fill","_hoisted_6","createBaseVNode","d","_withScopeId","_createElementVNode","_ctx","_cache","_createElementBlock","NoticeTypeEnum","isEs","computed","GetEsConnectVer","indexOf","userStore","useUserStore","date","Date","greetings","hours","getHours","user","username","ref","level","type","SYSTEM_UPGRADE","title","COMPANY_NEWS","HOLIDAY_NOTICE","SECURITY_ALERT","SYSTEM_MAINTENANCE","OTHER","articleData","reactive","list","onMounted","async","res","GetWxArticleList","code","data","ElMessage","error","msg"],"mappings":"usBAEQA,EAA4C,CAChDC,KAAM,4CACNC,OAAqB,SACrBC,MAAA,sDAGEC,EAAU,CACVC,WACAC,YACAC,QAAkC,cAClCC,MAAA,CAAAC,MAAkB,OAAAC,KAAA,iCAE4CC,EAAA,QAM5DC,EAAA,OAAA,CAAAC,EAAA,qDAAA,MAAA,KAJ4LC,GAAA,IAAAC,EAAA,OAAA,CAC5LF,EAAA,2LACAH,oBACAF,MAAM,CAAU,mBAAA,4CAGugBM,GAAA,IAAAC,EAAA,OAAA,CACvhBF,EAAA,shBACAH,0EAvBN,SAAAM,EAAAC,cAyBQC,EAAA,MA1BV,0DCCkB,IAAAC,GAAAA,IAEhBA,EAAiB,eAAA,iBAEjBA,EAAqB,mBAAA,qBAErBA,EAAiB,eAAA,iBAEjBA,EAAiB,eAAA,iBAEjBA,EAAe,aAAA,eAEfA,EAAQ,MAAA,QAZQA,IAAAA,GAAA,CAAA,qVC+FZ,MAAAC,EAAOC,GAAS,KACsC,IAAnD,GAAGC,MAAoBC,QAAQ,mBAGlCC,EAAYC,IAEZC,MAAiBC,KACjBC,EAAYP,GAAS,KACnB,MAAAQ,EAAQH,EAAKI,WACf,OAAAD,GAAS,GAAKA,EAAQ,EACjB,qBACEA,GAAS,GAAKA,EAAQ,GACxB,OAASL,EAAUO,KAAKC,SAAW,IACjCH,GAAS,IAAMA,EAAQ,GACzB,OAASL,EAAUO,KAAKC,SAAW,IACjCH,GAAS,IAAMA,EAAQ,GACzB,OAASL,EAAUO,KAAKC,SAAW,IAEnC,iCACT,IAGkBC,EAAA,CAClB,CACEC,MAAO,EACPC,KAAMhB,EAAeiB,eACrBC,MAAO,4BAET,CACEH,MAAO,EACPC,KAAMhB,EAAemB,aACrBD,MAAO,kCAET,CACEH,MAAO,EACPC,KAAMhB,EAAeoB,eACrBF,MAAO,sCAGT,CACEH,MAAO,EACPC,KAAMhB,EAAeqB,eACrBH,MAAO,gCAET,CACEH,MAAO,EACPC,KAAMhB,EAAesB,mBACrBJ,MAAO,mCAET,CACEH,MAAO,EACPC,KAAMhB,EAAeuB,MACrBL,MAAO,sBAET,CACEH,MAAO,EACPC,KAAMhB,EAAeoB,eACrBF,MAAO,sCAET,CACEH,MAAO,EACPC,KAAMhB,EAAemB,aACrBD,MAAO,gCAET,CACEH,MAAO,EACPC,KAAMhB,EAAeqB,eACrBH,MACE,sCAEJ,CACEH,MAAO,EACPC,KAAMhB,EAAesB,mBACrBJ,MAAO,mCAET,CACEH,MAAO,EACPC,KAAMhB,EAAeuB,MACrBL,MAAO,4BAIX,MAAMM,EAAcC,EAAS,CAC3BC,KAAK,YAkBPC,GAAU,KAfaC,WAGrB,IAAIC,QAAaC,EAAiB,CAAA,GACnB,GAAZD,EAAIE,KAKPP,EAAYE,KAAOG,EAAIG,KAJXC,EAAAC,MAAML,EAAIM,IAMtB"}