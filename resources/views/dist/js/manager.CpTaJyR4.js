import{v as e,A as a,d as t,b as s,c as l,cB as i,cC as n,c0 as r,aM as o,ab as d,c5 as c,N as u,e as p,h as v,i as f,g as m,C as g,n as y,k as b,F as h,p as _,f as w,w as k,D as $,E as x,_ as F,q as C,t as E,au as R,O as S,an as T,bF as L,y as U,Y as j,r as P,S as B,V as D,a4 as O,j as A,l as I,cD as N,bm as q,bM as M,aZ as z,B as H,s as K,cE as V,cF as X,cG as W,J,ac as G,ak as Y,z as Z,as as Q,bK as ee,a8 as ae,aP as te,aU as se,a0 as le,cH as ie,o as ne,a7 as re,a3 as oe,cI as de,cJ as ce,b4 as ue,cK as pe,aX as ve,a6 as fe,b9 as me,b0 as ge,b1 as ye}from"./index.W33FBolP.js";import{E as be}from"./el-loading.DTgwG8UQ.js";import{E as he,a as _e}from"./el-table-column.C7pSay8D.js";import"./el-checkbox.IUVBXYid.js";import{i as we,E as ke}from"./el-tooltip.Dj6yvCEN.js";import"./el-scrollbar.CF952IsS.js";/* empty css               */import{b as $e,a as xe,E as Fe}from"./el-form.yboLIzGg.js";import"./el-form-item.l0sNRNKZ.js";import{E as Ce}from"./el-main.B0FvDjGa.js";import{U as Ee,a as Re,I as Se}from"./plugins.Bmcidn9r.js";import{E as Te}from"./index.CwuhdP3B.js";import{_ as Le}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./use-dialog.Uu3kEZll.js";import"./isUndefined.DgmxjSXK.js";import"./index.BlQRGALI.js";import"./_Uint8Array.DOwfnrpH.js";function Ue(e){return $e(e,5)}const je=e({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:a(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:a([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:a(Function),default:e=>`${e}%`}}),Pe=["aria-valuenow"],Be={viewBox:"0 0 100 100"},De=["d","stroke","stroke-linecap","stroke-width"],Oe=["d","stroke","opacity","stroke-linecap","stroke-width"],Ae={key:0},Ie=t({name:"ElProgress"});const Ne=C(F(t({...Ie,props:je,setup(e){const a=e,t={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},F=s("progress"),C=l((()=>{const e={width:`${a.percentage}%`,animationDuration:`${a.duration}s`},t=I(a.percentage);return t.includes("gradient")?e.background=t:e.backgroundColor=t,e})),E=l((()=>(a.strokeWidth/a.width*100).toFixed(1))),R=l((()=>["circle","dashboard"].includes(a.type)?Number.parseInt(""+(50-Number.parseFloat(E.value)/2),10):0)),S=l((()=>{const e=R.value,t="dashboard"===a.type;return`\n          M 50 50\n          m 0 ${t?"":"-"}${e}\n          a ${e} ${e} 0 1 1 0 ${t?"-":""}${2*e}\n          a ${e} ${e} 0 1 1 0 ${t?"":"-"}${2*e}\n          `})),T=l((()=>2*Math.PI*R.value)),L=l((()=>"dashboard"===a.type?.75:1)),U=l((()=>`${-1*T.value*(1-L.value)/2}px`)),j=l((()=>({strokeDasharray:`${T.value*L.value}px, ${T.value}px`,strokeDashoffset:U.value}))),P=l((()=>({strokeDasharray:`${T.value*L.value*(a.percentage/100)}px, ${T.value}px`,strokeDashoffset:U.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"}))),B=l((()=>{let e;return e=a.color?I(a.percentage):t[a.status]||t.default,e})),D=l((()=>"warning"===a.status?i:"line"===a.type?"success"===a.status?n:r:"success"===a.status?o:d)),O=l((()=>"line"===a.type?12+.4*a.strokeWidth:.111111*a.width+2)),A=l((()=>a.format(a.percentage)));const I=e=>{var t;const{color:s}=a;if(c(s))return s(e);if(u(s))return s;{const a=function(e){const a=100/e.length;return e.map(((e,t)=>u(e)?{color:e,percentage:(t+1)*a}:e)).sort(((e,a)=>e.percentage-a.percentage))}(s);for(const t of a)if(t.percentage>e)return t.color;return null==(t=a[a.length-1])?void 0:t.color}};return(e,a)=>(p(),v("div",{class:f([m(F).b(),m(F).m(e.type),m(F).is(e.status),{[m(F).m("without-text")]:!e.showText,[m(F).m("text-inside")]:e.textInside}]),role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"},["line"===e.type?(p(),v("div",{key:0,class:f(m(F).b("bar"))},[g("div",{class:f(m(F).be("bar","outer")),style:y({height:`${e.strokeWidth}px`})},[g("div",{class:f([m(F).be("bar","inner"),{[m(F).bem("bar","inner","indeterminate")]:e.indeterminate},{[m(F).bem("bar","inner","striped")]:e.striped},{[m(F).bem("bar","inner","striped-flow")]:e.stripedFlow}]),style:y(m(C))},[(e.showText||e.$slots.default)&&e.textInside?(p(),v("div",{key:0,class:f(m(F).be("bar","innerText"))},[b(e.$slots,"default",{percentage:e.percentage},(()=>[g("span",null,h(m(A)),1)]))],2)):_("v-if",!0)],6)],6)],2)):(p(),v("div",{key:1,class:f(m(F).b("circle")),style:y({height:`${e.width}px`,width:`${e.width}px`})},[(p(),v("svg",Be,[g("path",{class:f(m(F).be("circle","track")),d:m(S),stroke:`var(${m(F).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":e.strokeLinecap,"stroke-width":m(E),fill:"none",style:y(m(j))},null,14,De),g("path",{class:f(m(F).be("circle","path")),d:m(S),stroke:m(B),fill:"none",opacity:e.percentage?1:0,"stroke-linecap":e.strokeLinecap,"stroke-width":m(E),style:y(m(P))},null,14,Oe)]))],6)),!e.showText&&!e.$slots.default||e.textInside?_("v-if",!0):(p(),v("div",{key:2,class:f(m(F).e("text")),style:y({fontSize:`${m(O)}px`})},[b(e.$slots,"default",{percentage:e.percentage},(()=>[e.status?(p(),w(m(x),{key:1},{default:k((()=>[(p(),w($(m(D))))])),_:1})):(p(),v("span",Ae,h(m(A)),1))]))],6))],10,Pe))}}),[["__file","progress.vue"]])),qe=Symbol("uploadContextKey");class Me extends Error{constructor(e,a,t,s){super(e),this.name="UploadAjaxError",this.status=a,this.method=t,this.url=s}}function ze(e,a,t){let s;return s=t.response?`${t.response.error||t.response}`:t.responseText?`${t.responseText}`:`fail to ${a.method} ${e} ${t.status}`,new Me(s,t.status,a.method,e)}const He=["text","picture","picture-card"];let Ke=1;const Ve=()=>Date.now()+Ke++,Xe=e({action:{type:String,default:"#"},headers:{type:a(Object)},method:{type:String,default:"post"},data:{type:a([Object,Function,Promise]),default:()=>T({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:a(Array),default:()=>T([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:He,default:"text"},httpRequest:{type:a(Function),default:e=>{"undefined"==typeof XMLHttpRequest&&E("ElUpload","XMLHttpRequest is undefined");const a=new XMLHttpRequest,t=e.action;a.upload&&a.upload.addEventListener("progress",(a=>{const t=a;t.percent=a.total>0?a.loaded/a.total*100:0,e.onProgress(t)}));const s=new FormData;if(e.data)for(const[i,n]of Object.entries(e.data))R(n)&&n.length?s.append(i,...n):s.append(i,n);s.append(e.filename,e.file,e.file.name),a.addEventListener("error",(()=>{e.onError(ze(t,e,a))})),a.addEventListener("load",(()=>{if(a.status<200||a.status>=300)return e.onError(ze(t,e,a));e.onSuccess(function(e){const a=e.responseText||e.response;if(!a)return a;try{return JSON.parse(a)}catch(t){return a}}(a))})),a.open(e.method,t,!0),e.withCredentials&&"withCredentials"in a&&(a.withCredentials=!0);const l=e.headers||{};if(l instanceof Headers)l.forEach(((e,t)=>a.setRequestHeader(t,e)));else for(const[i,n]of Object.entries(l))S(n)||a.setRequestHeader(i,String(n));return a.send(s),a}},disabled:Boolean,limit:Number}),We=e({...Xe,beforeUpload:{type:a(Function),default:L},beforeRemove:{type:a(Function)},onRemove:{type:a(Function),default:L},onChange:{type:a(Function),default:L},onPreview:{type:a(Function),default:L},onSuccess:{type:a(Function),default:L},onProgress:{type:a(Function),default:L},onError:{type:a(Function),default:L},onExceed:{type:a(Function),default:L},crossorigin:{type:a(String)}}),Je=e({files:{type:a(Array),default:()=>T([])},disabled:{type:Boolean,default:!1},handlePreview:{type:a(Function),default:L},listType:{type:String,values:He,default:"text"},crossorigin:{type:a(String)}}),Ge=["onKeydown"],Ye=["src","crossorigin"],Ze=["onClick"],Qe=["title"],ea=["onClick"],aa=["onClick"],ta=t({name:"ElUploadList"});var sa=F(t({...ta,props:Je,emits:{remove:e=>!!e},setup(e,{emit:a}){const t=e,{t:i}=U(),r=s("upload"),c=s("icon"),u=s("list"),$=j(),F=P(!1),C=l((()=>[r.b("list"),r.bm("list",t.listType),r.is("disabled",t.disabled)])),E=e=>{a("remove",e)};return(e,a)=>(p(),w(z,{tag:"ul",class:f(m(C)),name:m(u).b()},{default:k((()=>[(p(!0),v(B,null,D(e.files,(t=>(p(),v("li",{key:t.uid||t.name,class:f([m(r).be("list","item"),m(r).is(t.status),{focusing:F.value}]),tabindex:"0",onKeydown:O((e=>!m($)&&E(t)),["delete"]),onFocus:a[0]||(a[0]=e=>F.value=!0),onBlur:a[1]||(a[1]=e=>F.value=!1),onClick:a[2]||(a[2]=e=>F.value=!1)},[b(e.$slots,"default",{file:t},(()=>["picture"===e.listType||"uploading"!==t.status&&"picture-card"===e.listType?(p(),v("img",{key:0,class:f(m(r).be("list","item-thumbnail")),src:t.url,crossorigin:e.crossorigin,alt:""},null,10,Ye)):_("v-if",!0),"uploading"===t.status||"picture-card"!==e.listType?(p(),v("div",{key:1,class:f(m(r).be("list","item-info"))},[g("a",{class:f(m(r).be("list","item-name")),onClick:A((a=>e.handlePreview(t)),["prevent"])},[I(m(x),{class:f(m(c).m("document"))},{default:k((()=>[I(m(N))])),_:1},8,["class"]),g("span",{class:f(m(r).be("list","item-file-name")),title:t.name},h(t.name),11,Qe)],10,Ze),"uploading"===t.status?(p(),w(m(Ne),{key:0,type:"picture-card"===e.listType?"circle":"line","stroke-width":"picture-card"===e.listType?6:2,percentage:Number(t.percentage),style:y("picture-card"===e.listType?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):_("v-if",!0)],2)):_("v-if",!0),g("label",{class:f(m(r).be("list","item-status-label"))},["text"===e.listType?(p(),w(m(x),{key:0,class:f([m(c).m("upload-success"),m(c).m("circle-check")])},{default:k((()=>[I(m(n))])),_:1},8,["class"])):["picture-card","picture"].includes(e.listType)?(p(),w(m(x),{key:1,class:f([m(c).m("upload-success"),m(c).m("check")])},{default:k((()=>[I(m(o))])),_:1},8,["class"])):_("v-if",!0)],2),m($)?_("v-if",!0):(p(),w(m(x),{key:2,class:f(m(c).m("close")),onClick:e=>E(t)},{default:k((()=>[I(m(d))])),_:2},1032,["class","onClick"])),_(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),_(" This is a bug which needs to be fixed "),_(" TODO: Fix the incorrect navigation interaction "),m($)?_("v-if",!0):(p(),v("i",{key:3,class:f(m(c).m("close-tip"))},h(m(i)("el.upload.deleteTip")),3)),"picture-card"===e.listType?(p(),v("span",{key:4,class:f(m(r).be("list","item-actions"))},[g("span",{class:f(m(r).be("list","item-preview")),onClick:a=>e.handlePreview(t)},[I(m(x),{class:f(m(c).m("zoom-in"))},{default:k((()=>[I(m(q))])),_:1},8,["class"])],10,ea),m($)?_("v-if",!0):(p(),v("span",{key:0,class:f(m(r).be("list","item-delete")),onClick:e=>E(t)},[I(m(x),{class:f(m(c).m("delete"))},{default:k((()=>[I(m(M))])),_:1},8,["class"])],10,aa))],2)):_("v-if",!0)]))],42,Ge)))),128)),b(e.$slots,"append")])),_:3},8,["class","name"]))}}),[["__file","upload-list.vue"]]);const la=e({disabled:{type:Boolean,default:!1}}),ia={file:e=>R(e)},na=["onDrop","onDragover"],ra="ElUploadDrag",oa=t({name:ra});var da=F(t({...oa,props:la,emits:ia,setup(e,{emit:a}){H(qe)||E(ra,"usage: <el-upload><el-upload-dragger /></el-upload>");const t=s("upload"),l=P(!1),i=j(),n=e=>{if(i.value)return;l.value=!1,e.stopPropagation();const t=Array.from(e.dataTransfer.files);a("file",t)},r=()=>{i.value||(l.value=!0)};return(e,a)=>(p(),v("div",{class:f([m(t).b("dragger"),m(t).is("dragover",l.value)]),onDrop:A(n,["prevent"]),onDragover:A(r,["prevent"]),onDragleave:a[0]||(a[0]=A((e=>l.value=!1),["prevent"]))},[b(e.$slots,"default")],42,na))}}),[["__file","upload-dragger.vue"]]);const ca=e({...Xe,beforeUpload:{type:a(Function),default:L},onRemove:{type:a(Function),default:L},onStart:{type:a(Function),default:L},onSuccess:{type:a(Function),default:L},onProgress:{type:a(Function),default:L},onError:{type:a(Function),default:L},onExceed:{type:a(Function),default:L}}),ua=["onKeydown"],pa=["name","multiple","accept"],va=t({name:"ElUploadContent",inheritAttrs:!1});var fa=F(t({...va,props:ca,setup(e,{expose:a}){const t=e,l=s("upload"),i=j(),n=K({}),r=K(),o=e=>{if(0===e.length)return;const{autoUpload:a,limit:s,fileList:l,multiple:i,onStart:n,onExceed:r}=t;if(s&&l.length+e.length>s)r(e,l);else{i||(e=e.slice(0,1));for(const t of e){const e=t;e.uid=Ve(),n(e),a&&d(e)}}},d=async e=>{if(r.value.value="",!t.beforeUpload)return u(e);let a,s={};try{const l=t.data,i=t.beforeUpload(e);s=V(t.data)?Ue(t.data):t.data,a=await i,V(t.data)&&we(l,s)&&(s=Ue(t.data))}catch(i){a=!1}if(!1===a)return void t.onRemove(e);let l=e;a instanceof Blob&&(l=a instanceof File?a:new File([a],e.name,{type:e.type})),u(Object.assign(l,{uid:e.uid}),s)},u=async(e,a)=>{const{headers:s,data:l,method:i,withCredentials:r,name:o,action:d,onProgress:u,onSuccess:p,onError:v,httpRequest:f}=t;try{a=await(async(e,a)=>c(e)?e(a):e)(null!=a?a:l,e)}catch(b){return void t.onRemove(e)}const{uid:m}=e,g={headers:s||{},withCredentials:r,file:e,data:a,method:i,filename:o,action:d,onProgress:a=>{u(a,e)},onSuccess:a=>{p(a,e),delete n.value[m]},onError:a=>{v(a,e),delete n.value[m]}},y=f(g);n.value[m]=y,y instanceof Promise&&y.then(g.onSuccess,g.onError)},y=e=>{const a=e.target.files;a&&o(Array.from(a))},h=()=>{i.value||(r.value.value="",r.value.click())},_=()=>{h()};return a({abort:e=>{X(n.value).filter(e?([a])=>String(e.uid)===a:()=>!0).forEach((([e,a])=>{a instanceof XMLHttpRequest&&a.abort(),delete n.value[e]}))},upload:d}),(e,a)=>(p(),v("div",{class:f([m(l).b(),m(l).m(e.listType),m(l).is("drag",e.drag)]),tabindex:"0",onClick:h,onKeydown:O(A(_,["self"]),["enter","space"])},[e.drag?(p(),w(da,{key:0,disabled:m(i),onFile:o},{default:k((()=>[b(e.$slots,"default")])),_:3},8,["disabled"])):b(e.$slots,"default",{key:1}),g("input",{ref_key:"inputRef",ref:r,class:f(m(l).e("input")),name:e.name,multiple:e.multiple,accept:e.accept,type:"file",onChange:y,onClick:a[0]||(a[0]=A((()=>{}),["stop"]))},null,42,pa)],42,ua))}}),[["__file","upload-content.vue"]]);const ma="ElUpload",ga=e=>{var a;(null==(a=e.url)?void 0:a.startsWith("blob:"))&&URL.revokeObjectURL(e.url)},ya=t({name:"ElUpload"});const ba=C(F(t({...ya,props:We,setup(e,{expose:a}){const t=e,s=j(),i=K(),{abort:n,submit:r,clearFiles:o,uploadFiles:d,handleStart:c,handleError:u,handleRemove:f,handleSuccess:g,handleProgress:y,revokeFileObjectURL:h}=((e,a)=>{const t=W(e,"fileList",void 0,{passive:!0}),s=e=>t.value.find((a=>a.uid===e.uid));function l(e){var t;null==(t=a.value)||t.abort(e)}return J((()=>e.listType),(a=>{"picture-card"!==a&&"picture"!==a||(t.value=t.value.map((a=>{const{raw:s,url:l}=a;if(!l&&s)try{a.url=URL.createObjectURL(s)}catch(i){e.onError(i,a,t.value)}return a})))})),J(t,(e=>{for(const a of e)a.uid||(a.uid=Ve()),a.status||(a.status="success")}),{immediate:!0,deep:!0}),{uploadFiles:t,abort:l,clearFiles:function(e=["ready","uploading","success","fail"]){t.value=t.value.filter((a=>!e.includes(a.status)))},handleError:(a,l)=>{const i=s(l);i&&(console.error(a),i.status="fail",t.value.splice(t.value.indexOf(i),1),e.onError(a,i,t.value),e.onChange(i,t.value))},handleProgress:(a,l)=>{const i=s(l);i&&(e.onProgress(a,i,t.value),i.status="uploading",i.percentage=Math.round(a.percent))},handleStart:a=>{S(a.uid)&&(a.uid=Ve());const s={name:a.name,percentage:0,status:"ready",size:a.size,raw:a,uid:a.uid};if("picture-card"===e.listType||"picture"===e.listType)try{s.url=URL.createObjectURL(a)}catch(l){G(ma,l.message),e.onError(l,s,t.value)}t.value=[...t.value,s],e.onChange(s,t.value)},handleSuccess:(a,l)=>{const i=s(l);i&&(i.status="success",i.response=a,e.onSuccess(a,i,t.value),e.onChange(i,t.value))},handleRemove:async a=>{const i=a instanceof File?s(a):a;i||E(ma,"file to be removed not found");const n=a=>{l(a);const s=t.value;s.splice(s.indexOf(a),1),e.onRemove(a,s),ga(a)};e.beforeRemove?!1!==await e.beforeRemove(i,t.value)&&n(i):n(i)},submit:function(){t.value.filter((({status:e})=>"ready"===e)).forEach((({raw:e})=>{var t;return e&&(null==(t=a.value)?void 0:t.upload(e))}))},revokeFileObjectURL:ga}})(t,i),$=l((()=>"picture-card"===t.listType)),x=l((()=>({...t,fileList:d.value,onStart:c,onProgress:y,onSuccess:g,onError:u,onRemove:f})));return Y((()=>{d.value.forEach(h)})),Z(qe,{accept:Q(t,"accept")}),a({abort:n,submit:r,clearFiles:o,handleStart:c,handleRemove:f}),(e,a)=>(p(),v("div",null,[m($)&&e.showFileList?(p(),w(sa,{key:0,disabled:m(s),"list-type":e.listType,files:m(d),crossorigin:e.crossorigin,"handle-preview":e.onPreview,onRemove:m(f)},ee({append:k((()=>[I(fa,ae({ref_key:"uploadRef",ref:i},m(x)),{default:k((()=>[e.$slots.trigger?b(e.$slots,"trigger",{key:0}):_("v-if",!0),!e.$slots.trigger&&e.$slots.default?b(e.$slots,"default",{key:1}):_("v-if",!0)])),_:3},16)])),_:2},[e.$slots.file?{name:"default",fn:k((({file:a})=>[b(e.$slots,"file",{file:a})]))}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):_("v-if",!0),!m($)||m($)&&!e.showFileList?(p(),w(fa,ae({key:1,ref_key:"uploadRef",ref:i},m(x)),{default:k((()=>[e.$slots.trigger?b(e.$slots,"trigger",{key:0}):_("v-if",!0),!e.$slots.trigger&&e.$slots.default?b(e.$slots,"default",{key:1}):_("v-if",!0)])),_:3},16)):_("v-if",!0),e.$slots.trigger?b(e.$slots,"default",{key:2}):_("v-if",!0),b(e.$slots,"tip"),!m($)&&e.showFileList?(p(),w(sa,{key:3,disabled:m(s),"list-type":e.listType,files:m(d),crossorigin:e.crossorigin,"handle-preview":e.onPreview,onRemove:m(f)},ee({_:2},[e.$slots.file?{name:"default",fn:k((({file:a})=>[b(e.$slots,"file",{file:a})]))}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):_("v-if",!0)]))}}),[["__file","upload.vue"]])),ha=e=>(ge("data-v-9ebdaf4e"),e=e(),ye(),e),_a={class:"app-container"},wa={class:"search-container"},ka={class:"performance-info"},$a={class:"tooltip-content"},xa={class:"tooltip-item"},Fa=ha((()=>g("span",{class:"label"},"进程ID:",-1))),Ca={class:"value"},Ea={class:"tooltip-item"},Ra=ha((()=>g("span",{class:"label"},"CPU:",-1))),Sa={class:"value"},Ta={class:"tooltip-item"},La=ha((()=>g("span",{class:"label"},"内存:",-1))),Ua={class:"value"},ja={class:"performance-indicators"},Pa={class:"ml-1"},Ba={class:"action-buttons"},Da={class:"plugin-details"},Oa={class:"detail-card"},Aa=ha((()=>g("div",{class:"card-title"},"基本信息",-1))),Ia={class:"card-content"},Na={class:"detail-item"},qa=ha((()=>g("span",{class:"detail-label"},"插件名称",-1))),Ma={class:"detail-value"},za={class:"detail-item"},Ha=ha((()=>g("span",{class:"detail-label"},"开发者",-1))),Ka={class:"detail-value"},Va={class:"detail-item"},Xa=ha((()=>g("span",{class:"detail-label"},"别名",-1))),Wa={class:"detail-value"},Ja={class:"detail-item"},Ga=ha((()=>g("span",{class:"detail-label"},"文件名",-1))),Ya={class:"detail-value"},Za={class:"detail-card"},Qa=ha((()=>g("div",{class:"card-title"},"版本信息",-1))),et={class:"card-content"},at={class:"detail-item"},tt=ha((()=>g("span",{class:"detail-label"},"当前版本",-1))),st={class:"detail-value"},lt={key:0,class:"detail-item"},it=ha((()=>g("span",{class:"detail-label"},"可更新版本",-1))),nt={class:"detail-value"},rt={class:"detail-card"},ot=ha((()=>g("div",{class:"card-title"},"性能监控",-1))),dt={class:"card-content"},ct={class:"detail-item"},ut=ha((()=>g("span",{class:"detail-label"},"进程ID",-1))),pt={class:"detail-value"},vt={class:"detail-item"},ft=ha((()=>g("span",{class:"detail-label"},"CPU占用",-1))),mt={class:"detail-progress"},gt={class:"detail-item"},yt=ha((()=>g("span",{class:"detail-label"},"内存占用",-1))),bt={class:"detail-progress"},ht={class:"detail-card"},_t=ha((()=>g("div",{class:"card-title"},"调试信息",-1))),wt={class:"card-content"},kt={class:"detail-item"},$t=ha((()=>g("span",{class:"detail-label"},"调试模式",-1))),xt={class:"detail-value"},Ft={class:"detail-item"},Ct=ha((()=>g("span",{class:"detail-label"},"前端调试端口",-1))),Et={class:"detail-value"},Rt={class:"detail-card"},St=ha((()=>g("div",{class:"card-title"},"路径信息",-1))),Tt={class:"card-content"},Lt={class:"detail-item"},Ut=ha((()=>g("span",{class:"detail-label"},"存储路径",-1))),jt={class:"detail-value break-all"},Pt={class:"detail-item"},Bt=ha((()=>g("span",{class:"detail-label"},"日志位置",-1))),Dt={class:"detail-value break-all"},Ot={class:"detail-card"},At=ha((()=>g("div",{class:"card-title"},"运行状态",-1))),It={class:"card-content"},Nt={class:"detail-item"},qt=ha((()=>g("span",{class:"detail-label"},"运行状态",-1))),Mt={class:"detail-value"},zt={key:0,class:"detail-item"},Ht=ha((()=>g("span",{class:"detail-label"},"开启时间",-1))),Kt={class:"detail-value"},Vt={key:1,class:"detail-item"},Xt=ha((()=>g("span",{class:"detail-label"},"停止时间",-1))),Wt={class:"detail-value"},Jt={class:"detail-actions"},Gt=Le(t({__name:"manager",setup(e){const a=te(),t=l((()=>a.device===se.MOBILE)),s=le({pluginList:[]}),i=P(!1),n=P(!1),r=async()=>{n.value=!1;let e=await Re({});n.value=!1,0==e.code?s.pluginList=e.data:ue.error(e.msg)},o=P(!1),d={"X-Token":ie(),"X-Version":window.appVersion},c=P(null),u=e=>{0==e.code?(r(),c.value.clearFiles(),ue.success(e.msg)):ue.error(e.msg)},f=P([]),y=(e,a)=>{console.log(e,a)},b=e=>{console.log(e)},$=(e,a)=>{ue.warning(`The limit is 1, you selected ${e.length} files this time, add up to ${e.length+a.length} totally`)},F=(e,a)=>ve.confirm(`Cancel the transfer of ${e.name} ?`).then((()=>!0),(()=>!1)),C=P(!1),E=P(null),R=e=>e<30?"#67C23A":e<70?"#E6A23C":"#F56C6C",S=e=>e<50?"#67C23A":e<80?"#E6A23C":"#F56C6C";return ne((()=>{r()})),(e,a)=>{var l;const T=fe,L=ba,U=Ce,j=xe,P=Fe,D=Te,O=he,A=x,N=Ne,q=ke,M=_e,z=be,H=me;return p(),v("div",_a,[g("div",wa,[I(P,{inline:!0},{default:k((()=>[I(j,null,{default:k((()=>[I(U,null,{default:k((()=>[I(L,{ref_key:"uploadRef",ref:c,headers:d,"file-list":f.value,"onUpdate:fileList":a[0]||(a[0]=e=>f.value=e),action:pe()+"api/plugins/UploadPlugin","on-preview":b,"on-remove":y,"before-remove":F,limit:1,"on-exceed":$,"on-success":u},{default:k((()=>[I(T,{type:"primary"},{default:k((()=>[re("离线上传")])),_:1})])),_:1},8,["file-list","action"]),I(T,{style:{"margin-left":"1rem"},onClick:r,type:"primary"},{default:k((()=>[re(" 刷新 ")])),_:1})])),_:1})])),_:1})])),_:1})]),oe((p(),w(M,{data:m(s).pluginList,"show-overflow-tooltip":"",class:"plugin-table"},{default:k((()=>[I(O,{align:"center",label:e.$t("插件名")},{default:k((e=>[I(D,{type:e.row.is_exited?"danger":"success"},{default:k((()=>[re(h(e.row.plugin_name),1)])),_:2},1032,["type"])])),_:1},8,["label"]),I(O,{align:"center",label:e.$t("开发者"),width:"120"},{default:k((e=>[re(h(e.row.developer),1)])),_:1},8,["label"]),I(O,{align:"center",label:e.$t("别名"),width:"200"},{default:k((e=>[re(h(e.row.plugin_alias),1)])),_:1},8,["label"]),I(O,{align:"center",label:e.$t("文件名"),width:"250"},{default:k((e=>[re(h(e.row.plugin_file_name),1)])),_:1},8,["label"]),I(O,{align:"center",label:e.$t("版本"),width:"170"},{default:k((e=>[e.row.has_update?(p(),v(B,{key:0},[I(D,{type:"danger"},{default:k((()=>[re(h(e.row.version),1)])),_:2},1024),I(A,{class:"mx-1"},{default:k((()=>[I(m(de))])),_:1}),I(D,{type:"success"},{default:k((()=>[re(h(e.row.update_version),1)])),_:2},1024)],64)):(p(),w(D,{key:1,type:"success"},{default:k((()=>[re(h(e.row.version),1)])),_:2},1024))])),_:1},8,["label"]),I(O,{align:"center",label:e.$t("性能"),width:"240"},{default:k((e=>[g("div",ka,[I(q,{effect:"dark",placement:"top"},{content:k((()=>[g("div",$a,[g("div",xa,[Fa,g("span",Ca,h(e.row.pid),1)]),g("div",Ea,[Ra,g("span",Sa,h(e.row.cpu_percent_str),1)]),g("div",Ta,[La,g("span",Ua,h(e.row.memory_percent_str),1)])])])),default:k((()=>[g("div",ja,[I(A,null,{default:k((()=>[I(m(ce))])),_:1}),g("span",Pa,h(e.row.pid),1),I(N,{percentage:parseFloat(e.row.cpu_percent_str),"stroke-width":4,class:"performance-progress",color:R},null,8,["percentage"]),I(N,{percentage:parseFloat(e.row.memory_percent_str),"stroke-width":4,class:"performance-progress",color:S},null,8,["percentage"])])])),_:2},1024)])])),_:1},8,["label"]),I(O,{align:"center",fixed:"right",label:e.$t("操作"),width:"150"},{default:k((e=>[g("div",Ba,[e.row.has_update?(p(),w(T,{key:0,onClick:a=>(async(e,a)=>{o.value=!0;let t=await Se({plugin_id:e,version:a});o.value=!1,0==t.code?(r(),ue.success({type:"success",offset:60,message:t.msg})):ue.error({type:"error",offset:60,message:t.msg})})(e.row.plugin_id,e.row.update_version),type:"warning",size:"small"},{default:k((()=>[re(" 更新 ")])),_:2},1032,["onClick"])):_("",!0),I(T,{onClick:a=>{return t=e.row,E.value=t,void(C.value=!0);var t},type:"info",size:"small"},{default:k((()=>[re(" 详情 ")])),_:2},1032,["onClick"])])])),_:1},8,["label"])])),_:1},8,["data"])),[[H,n.value]]),I(z,{modelValue:C.value,"onUpdate:modelValue":a[3]||(a[3]=e=>C.value=e),title:null==(l=E.value)?void 0:l.plugin_name,direction:"rtl",size:t.value?"100%":"80%"},{default:k((()=>{var e,t,s,l,n,o,d,c,u,f,m,y,b,w,$,x,F,C,L;return[g("div",Da,[g("div",Oa,[Aa,g("div",Ia,[g("div",Na,[qa,g("span",Ma,h(null==(e=E.value)?void 0:e.plugin_name),1)]),g("div",za,[Ha,g("span",Ka,h(null==(t=E.value)?void 0:t.developer),1)]),g("div",Va,[Xa,g("span",Wa,h(null==(s=E.value)?void 0:s.plugin_alias),1)]),g("div",Ja,[Ga,g("span",Ya,h(null==(l=E.value)?void 0:l.plugin_file_name),1)])])]),g("div",Za,[Qa,g("div",et,[g("div",at,[tt,g("span",st,[I(D,{type:(null==(n=E.value)?void 0:n.has_update)?"danger":"success"},{default:k((()=>{var e;return[re(h(null==(e=E.value)?void 0:e.version),1)]})),_:1},8,["type"])])]),(null==(o=E.value)?void 0:o.has_update)?(p(),v("div",lt,[it,g("span",nt,[I(D,{type:"success"},{default:k((()=>{var e;return[re(h(null==(e=E.value)?void 0:e.update_version),1)]})),_:1})])])):_("",!0)])]),g("div",rt,[ot,g("div",dt,[g("div",ct,[ut,g("span",pt,h(null==(d=E.value)?void 0:d.pid),1)]),g("div",vt,[ft,g("div",mt,[I(N,{percentage:parseFloat(null==(c=E.value)?void 0:c.cpu_percent_str),color:R},null,8,["percentage"])])]),g("div",gt,[yt,g("div",bt,[I(N,{percentage:parseFloat(null==(u=E.value)?void 0:u.memory_percent_str),color:S},null,8,["percentage"])])])])]),g("div",ht,[_t,g("div",wt,[g("div",kt,[$t,g("span",xt,[I(D,{type:(null==(f=E.value)?void 0:f.backend_debug)?"warning":"info"},{default:k((()=>{var e;return[re(h((null==(e=E.value)?void 0:e.backend_debug)?"已开启":"未开启"),1)]})),_:1},8,["type"])])]),g("div",Ft,[Ct,g("span",Et,h((null==(m=E.value)?void 0:m.frontend_debug)?null==(y=E.value)?void 0:y.frontend_dev_port:"未开启"),1)])])]),g("div",Rt,[St,g("div",Tt,[g("div",Lt,[Ut,g("span",jt,h(null==(b=E.value)?void 0:b.store_path),1)]),g("div",Pt,[Bt,g("span",Dt,h(null==(w=E.value)?void 0:w.log_file_path),1)])])]),g("div",Ot,[At,g("div",It,[g("div",Nt,[qt,g("span",Mt,[I(D,{type:(null==($=E.value)?void 0:$.is_exited)?"danger":"success"},{default:k((()=>{var e;return[re(h((null==(e=E.value)?void 0:e.is_exited)?"已停止":"运行中"),1)]})),_:1},8,["type"])])]),(null==(x=E.value)?void 0:x.is_exited)?_("",!0):(p(),v("div",zt,[Ht,g("span",Kt,h(null==(F=E.value)?void 0:F.start_time),1)])),(null==(C=E.value)?void 0:C.is_exited)?(p(),v("div",Vt,[Xt,g("span",Wt,h(null==(L=E.value)?void 0:L.end_time),1)])):_("",!0)])]),g("div",Jt,[I(T,{onClick:a[1]||(a[1]=e=>{var a;return(e=>{const a=`${pe()}api/call_plugin/${e}/debug/pprof/`;window.open(a,"_blank")})(null==(a=E.value)?void 0:a.plugin_id)}),type:"primary"},{default:k((()=>[re(" 性能分析 ")])),_:1}),I(T,{onClick:a[2]||(a[2]=e=>{var a;return(async e=>{i.value=!0;let a=await Ee({plugin_id:e});i.value=!1,0==a.code?(r(),ue.success({type:"success",offset:60,message:a.msg})):ue.error({type:"error",offset:60,message:a.msg})})(null==(a=E.value)?void 0:a.plugin_id)}),type:"danger"},{default:k((()=>[re(" 卸载插件 ")])),_:1})])])]})),_:1},8,["modelValue","title","size"])])}}}),[["__scopeId","data-v-9ebdaf4e"]]);export{Gt as default};
//# sourceMappingURL=manager.CpTaJyR4.js.map
