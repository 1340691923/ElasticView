{"version":3,"file":"market.DkYVmbKl.js","sources":["../../../vue/node_modules/.pnpm/element-plus@2.7.8_vue@3.4.35_typescript@5.5.4_/node_modules/element-plus/es/components/timeline/src/timeline.mjs","../../../vue/node_modules/.pnpm/element-plus@2.7.8_vue@3.4.35_typescript@5.5.4_/node_modules/element-plus/es/components/timeline/src/timeline-item.mjs","../../../vue/node_modules/.pnpm/element-plus@2.7.8_vue@3.4.35_typescript@5.5.4_/node_modules/element-plus/es/components/timeline/src/timeline-item2.mjs","../../../vue/node_modules/.pnpm/element-plus@2.7.8_vue@3.4.35_typescript@5.5.4_/node_modules/element-plus/es/components/timeline/index.mjs","../../../vue/src/components/ImportEvKey/index.vue","../../../vue/src/components/CommentItem.vue","../../../vue/src/views/plugins/market.vue"],"sourcesContent":["import { defineComponent, provide, h, renderSlot } from 'vue';\nimport '../../../hooks/index.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\n\nconst Timeline = defineComponent({\n  name: \"ElTimeline\",\n  setup(_, { slots }) {\n    const ns = useNamespace(\"timeline\");\n    provide(\"timeline\", slots);\n    return () => {\n      return h(\"ul\", { class: [ns.b()] }, [renderSlot(slots, \"default\")]);\n    };\n  }\n});\n\nexport { Timeline as default };\n//# sourceMappingURL=timeline.mjs.map\n","import '../../../utils/index.mjs';\nimport { buildProps } from '../../../utils/vue/props/runtime.mjs';\nimport { iconPropType } from '../../../utils/vue/icon.mjs';\n\nconst timelineItemProps = buildProps({\n  timestamp: {\n    type: String,\n    default: \"\"\n  },\n  hideTimestamp: Boolean,\n  center: Boolean,\n  placement: {\n    type: String,\n    values: [\"top\", \"bottom\"],\n    default: \"bottom\"\n  },\n  type: {\n    type: String,\n    values: [\"primary\", \"success\", \"warning\", \"danger\", \"info\"],\n    default: \"\"\n  },\n  color: {\n    type: String,\n    default: \"\"\n  },\n  size: {\n    type: String,\n    values: [\"normal\", \"large\"],\n    default: \"normal\"\n  },\n  icon: {\n    type: iconPropType\n  },\n  hollow: Boolean\n});\n\nexport { timelineItemProps };\n//# sourceMappingURL=timeline-item.mjs.map\n","import { defineComponent, computed, openBlock, createElementBlock, normalizeClass, unref, createElementVNode, normalizeStyle, createBlock, withCtx, resolveDynamicComponent, createCommentVNode, renderSlot, toDisplayString } from 'vue';\nimport { ElIcon } from '../../icon/index.mjs';\nimport '../../../hooks/index.mjs';\nimport { timelineItemProps } from './timeline-item.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\n\nconst __default__ = defineComponent({\n  name: \"ElTimelineItem\"\n});\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: timelineItemProps,\n  setup(__props) {\n    const props = __props;\n    const ns = useNamespace(\"timeline-item\");\n    const defaultNodeKls = computed(() => [\n      ns.e(\"node\"),\n      ns.em(\"node\", props.size || \"\"),\n      ns.em(\"node\", props.type || \"\"),\n      ns.is(\"hollow\", props.hollow)\n    ]);\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"li\", {\n        class: normalizeClass([unref(ns).b(), { [unref(ns).e(\"center\")]: _ctx.center }])\n      }, [\n        createElementVNode(\"div\", {\n          class: normalizeClass(unref(ns).e(\"tail\"))\n        }, null, 2),\n        !_ctx.$slots.dot ? (openBlock(), createElementBlock(\"div\", {\n          key: 0,\n          class: normalizeClass(unref(defaultNodeKls)),\n          style: normalizeStyle({\n            backgroundColor: _ctx.color\n          })\n        }, [\n          _ctx.icon ? (openBlock(), createBlock(unref(ElIcon), {\n            key: 0,\n            class: normalizeClass(unref(ns).e(\"icon\"))\n          }, {\n            default: withCtx(() => [\n              (openBlock(), createBlock(resolveDynamicComponent(_ctx.icon)))\n            ]),\n            _: 1\n          }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true)\n        ], 6)) : createCommentVNode(\"v-if\", true),\n        _ctx.$slots.dot ? (openBlock(), createElementBlock(\"div\", {\n          key: 1,\n          class: normalizeClass(unref(ns).e(\"dot\"))\n        }, [\n          renderSlot(_ctx.$slots, \"dot\")\n        ], 2)) : createCommentVNode(\"v-if\", true),\n        createElementVNode(\"div\", {\n          class: normalizeClass(unref(ns).e(\"wrapper\"))\n        }, [\n          !_ctx.hideTimestamp && _ctx.placement === \"top\" ? (openBlock(), createElementBlock(\"div\", {\n            key: 0,\n            class: normalizeClass([unref(ns).e(\"timestamp\"), unref(ns).is(\"top\")])\n          }, toDisplayString(_ctx.timestamp), 3)) : createCommentVNode(\"v-if\", true),\n          createElementVNode(\"div\", {\n            class: normalizeClass(unref(ns).e(\"content\"))\n          }, [\n            renderSlot(_ctx.$slots, \"default\")\n          ], 2),\n          !_ctx.hideTimestamp && _ctx.placement === \"bottom\" ? (openBlock(), createElementBlock(\"div\", {\n            key: 1,\n            class: normalizeClass([unref(ns).e(\"timestamp\"), unref(ns).is(\"bottom\")])\n          }, toDisplayString(_ctx.timestamp), 3)) : createCommentVNode(\"v-if\", true)\n        ], 2)\n      ], 2);\n    };\n  }\n});\nvar TimelineItem = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"timeline-item.vue\"]]);\n\nexport { TimelineItem as default };\n//# sourceMappingURL=timeline-item2.mjs.map\n","import '../../utils/index.mjs';\nimport Timeline from './src/timeline.mjs';\nimport TimelineItem from './src/timeline-item2.mjs';\nexport { timelineItemProps } from './src/timeline-item.mjs';\nimport { withInstall, withNoopInstall } from '../../utils/vue/install.mjs';\n\nconst ElTimeline = withInstall(Timeline, {\n  TimelineItem\n});\nconst ElTimelineItem = withNoopInstall(TimelineItem);\n\nexport { ElTimeline, ElTimelineItem, ElTimeline as default };\n//# sourceMappingURL=index.mjs.map\n","<template>\n  <el-dialog :width=\"isMobile?'100%':'60vw'\" title=\"请填写 evKey\" v-model=\"dialogVisible\" @close=\"handleClose\">\n    <el-form :model=\"form\" ref=\"formRef\">\n      <el-form-item label=\"evKey\" prop=\"evKey\">\n        <el-input v-model=\"form.evKey\" placeholder=\"请输入 evKey\"></el-input>\n        <div class=\"hint\">请前往 http://dev.elastic-view.cn 注册账户后拷贝evKey至此并保存</div>\n      </el-form-item>\n    </el-form>\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"handleClose\">取消</el-button>\n      <el-button type=\"primary\" @click=\"submitForm\">保存</el-button>\n    </span>\n  </el-dialog>\n</template>\n\n<script setup>\nimport { ref, watch } from 'vue';\nimport { ElMessage } from 'element-plus'; // 引入 ElMessage 进行提示\nimport {ImportEvKey, UnInstallPlugin} from \"@/api/plugins\";\nimport {useAppStore} from \"@/store\";\nimport {DeviceEnum} from \"@/enums/DeviceEnum\";\n\nconst appStore = useAppStore()\n\nconst isMobile = computed(() => appStore.device === DeviceEnum.MOBILE);\n\nconst props = defineProps({\n  visible: {\n    type: Boolean,\n    default: false\n  },\n\n});\n\nconst emit = defineEmits(['update:visible']);\n\nconst form = ref({\n  evKey: ''\n});\nconst dialogVisible = ref(false);\n\n// 监听 props 的变化\nwatch(() => props.visible, (newValue) => {\n  dialogVisible.value = newValue;\n});\n\nconst handleClose = () => {\n  dialogVisible.value = false;\n  emit('update:visible', false); // 更新父组件状态\n  form.value.evKey = ''; // 重置表单\n};\n\nconst submitForm = async () => {\n  const evKey = form.value.evKey;\n  if (!evKey) {\n    ElMessage.error('请填写 evKey');\n    return;\n  }\n  let res = await ImportEvKey({\n    ev_key:evKey,\n  })\n\n  if (res.code != 0) {\n    ElMessage.error({\n      type: 'error',offset:60,\n      message: res.msg\n    })\n    return\n  }\n\n  ElMessage.success({\n    type: 'success',offset:60,\n    message: 'evKey导入成功，请重新进行想要进行的操作'\n  })\n\n  handleClose()\n};\n</script>\n\n<style>\n.hint {\n  color: #888;\n  font-size: 12px;\n  margin-top: 5px;\n}\n</style>\n","<template>\n  <div class=\"comment-item\">\n    <div class=\"comment-header\">\n      <span class=\"comment-user\">{{ comment.realname }}</span>\n      <span class=\"comment-time\">{{ formattedDate }}</span>\n    </div>\n    <div class=\"comment-content\">{{ comment.content }}</div>\n    <div class=\"comment-footer\">\n      <div class=\"comment-actions\">\n        <el-button\n          type=\"text\"\n          size=\"small\"\n          class=\"like-button\"\n          :class=\"{ 'is-liked': comment.has_like }\"\n          @click.stop=\"handleLike\"\n        >\n          <el-icon><Pointer /></el-icon>\n          <span>{{ comment.like_count }}</span>\n        </el-button>\n        <el-button\n          type=\"text\"\n          size=\"small\"\n          class=\"reply-button\"\n          @click=\"handleReply\"\n        >\n          回复\n        </el-button>\n        <!-- 折叠/展开按钮 -->\n        <el-button\n          v-if=\"comment.children && comment.children.length > 0\"\n          type=\"text\"\n          size=\"small\"\n          class=\"toggle-button\"\n          @click=\"handleToggle\"\n        >\n          <span v-if=\"isCollapsed\">展开 ({{ comment.children.length }}条回复)</span>\n          <span v-else>收起回复</span>\n        </el-button>\n      </div>\n    </div>\n\n    <!-- 回复输入框 -->\n    <div v-if=\"replyVisible\" class=\"reply-input-container\">\n      <div class=\"reply-to-tip\">回复: {{ comment.realname }}</div>\n      <el-input\n        v-model=\"replyContent\"\n        type=\"textarea\"\n        :rows=\"2\"\n        placeholder=\"发表回复...\"\n        maxlength=\"200\"\n        show-word-limit\n      />\n      <div class=\"emoji-container\">\n        <el-button\n          type=\"text\"\n          size=\"small\"\n          class=\"emoji-toggle\"\n          @click=\"showEmojiPicker = !showEmojiPicker\"\n        >\n          😊 表情\n        </el-button>\n        <div v-if=\"showEmojiPicker\" style=\"z-index:300000\" class=\"emoji-picker\">\n          <div\n            v-for=\"emoji in emojiList\"\n            :key=\"emoji\"\n            class=\"emoji-item\"\n            @click=\"insertEmoji(emoji)\"\n          >\n            {{ emoji }}\n          </div>\n        </div>\n      </div>\n      <div class=\"reply-actions\">\n        <el-button size=\"small\" @click=\"cancelReply\">取消</el-button>\n        <el-button type=\"primary\" size=\"small\" @click=\"submitReply\">发送</el-button>\n      </div>\n    </div>\n\n    <!-- 子评论 -->\n    <div v-if=\"comment.children && comment.children.length > 0 && !isCollapsed && canShowChildren\" class=\"comment-replies\">\n      <!-- 递归渲染子评论 -->\n      <comment-item\n        v-for=\"child in comment.children\"\n        :key=\"child.id\"\n        :comment=\"child\"\n        :plugin-id=\"pluginId\"\n        :level=\"level + 1\"\n        @refresh=\"$emit('refresh')\"\n      />\n    </div>\n    <import-ev-key v-model:visible=\"importEvkeyDialogVisible\" ></import-ev-key>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport { Pointer } from '@element-plus/icons-vue'\nimport { ElMessage, ElMessageBox } from 'element-plus'\nimport { AddComment, LikeComment } from '@/api/plugins'\nimport { useAppStore } from \"@/store\"\nimport { DeviceEnum } from \"@/enums/DeviceEnum\"\nimport ImportEvKey from '@/components/ImportEvKey/index.vue'\n\nconst appStore = useAppStore()\nconst isMobile = computed(() => appStore.device === DeviceEnum.MOBILE)\n\nconst props = defineProps({\n  comment: {\n    type: Object,\n    required: true\n  },\n  pluginId: {\n    type: [Number, String],\n    required: true\n  },\n  level: {\n    type: Number,\n    default: 1\n  }\n})\n\nconst importEvkeyDialogVisible = ref(false);\n\nconst openImportEvkeyDialogVisible = () => {\n  importEvkeyDialogVisible.value = true;\n};\n\nconst emit = defineEmits(['refresh'])\n\nconst replyVisible = ref(false)\nconst replyContent = ref('')\nconst isCollapsed = ref(true) // 默认折叠子评论\nconst showEmojiPicker = ref(false) // emoji选择器显示状态\nconst likeLoading = ref(false) // 点赞加载状态\n\n// 最大嵌套层级 (移动端)\nconst MAX_MOBILE_LEVEL = 3\n\n// 判断是否可以显示子评论（移动端限制层级）\nconst canShowChildren = computed(() => {\n  if (!isMobile.value) return true\n  return props.level < MAX_MOBILE_LEVEL\n})\n\n// 处理点赞\nconst handleLike = async () => {\n  if (likeLoading.value) return\n\n  console.log('点赞按钮被点击，评论ID:', props.comment.id)\n  likeLoading.value = true\n\n  // 先优化用户体验，立即改变UI状态\n  const originalLikeState = props.comment.has_like\n  const originalLikeCount = props.comment.like_count\n\n  // 先在UI上反映变化\n  if (props.comment.has_like) {\n    props.comment.like_count = Math.max(0, props.comment.like_count - 1)\n    props.comment.has_like = false\n  } else {\n    props.comment.like_count += 1\n    props.comment.has_like = true\n  }\n\n  try {\n    const res = await LikeComment({\n      comment_id: props.comment.id\n    })\n\n\n    if (res.msg.indexOf('请前往')!==-1){\n      openImportEvkeyDialogVisible()\n      return\n    }\n\n    if (res.code !== 0) {\n      ElMessage.error({\n        type: 'error',\n        offset: 60,\n        message: res.msg || '操作失败'\n      })\n\n      // 恢复原始状态\n      props.comment.has_like = originalLikeState\n      props.comment.like_count = originalLikeCount\n      return\n    }\n\n  } catch (error) {\n    console.error('点赞失败', error)\n    ElMessage.error({\n      type: 'error',\n      offset: 60,\n      message: '点赞失败'\n    })\n\n    // 恢复原始状态\n    props.comment.has_like = originalLikeState\n    props.comment.like_count = originalLikeCount\n  } finally {\n    likeLoading.value = false\n  }\n}\n\n// 处理折叠/展开按钮点击\nconst handleToggle = () => {\n  if (isMobile.value && props.level >= MAX_MOBILE_LEVEL - 1 && props.comment.children?.length > 0) {\n    // 移动端且评论层级太深，显示提示\n    ElMessageBox.alert('请在PC端查看更多嵌套回复', '提示', {\n      confirmButtonText: '确定',\n      type: 'info'\n    })\n  } else {\n    // 正常切换折叠状态\n    isCollapsed.value = !isCollapsed.value\n  }\n}\n\n// 格式化日期显示\nconst formattedDate = computed(() => {\n  if (!props.comment.created_at) return ''\n\n  if (isMobile.value) {\n    // 移动端只显示月-日\n    const date = new Date(props.comment.created_at)\n    const month = (date.getMonth() + 1).toString().padStart(2, '0')\n    const day = date.getDate().toString().padStart(2, '0')\n    return `${month}-${day}`\n  } else {\n    // 桌面端显示完整日期\n    return props.comment.created_at\n  }\n})\n\nconst handleReply = () => {\n  replyVisible.value = true\n}\n\nconst cancelReply = () => {\n  replyVisible.value = false\n  replyContent.value = ''\n}\n\nconst submitReply = async () => {\n  if (!replyContent.value.trim()) {\n    ElMessage.warning({\n      type: 'warning',\n      offset: 60,\n      message: '回复内容不能为空'\n    })\n    return\n  }\n\n  try {\n    const res = await AddComment({\n      plugin_id: props.pluginId,\n      content: replyContent.value,\n      parent_id: props.comment.id\n    })\n\n\n    if (res.msg.indexOf('请前往')!==-1){\n      openImportEvkeyDialogVisible()\n      return\n    }\n\n    if (res.code !== 0) {\n      ElMessage.error({\n        type: 'error',\n        offset: 60,\n        message: res.msg\n      })\n      return\n    }\n\n    ElMessage.success({\n      type: 'success',\n      offset: 60,\n      message: '回复成功'\n    })\n\n    // 回复成功后自动展开子评论\n    isCollapsed.value = false\n\n    cancelReply()\n    emit('refresh') // 通知父组件刷新评论列表\n  } catch (error) {\n    console.error('回复失败', error)\n    ElMessage.error({\n      type: 'error',\n      offset: 60,\n      message: '回复失败'\n    })\n  }\n}\n\n// emoji表情列表\nconst emojiList = [\n  '😀', '😃', '😄', '😁', '😆', '😅', '😂', '🤣', '😊', '😇',\n  '🙂', '🙃', '😉', '😌', '😍', '🥰', '😘', '😗', '😙', '😚',\n  '😋', '😛', '😝', '😜', '🤪', '🤨', '🧐', '🤓', '😎', '🤩',\n  '🥳', '😏', '😒', '😞', '😔', '😟', '😕', '🙁', '☹️', '😣',\n  '😖', '😫', '😩', '🥺', '😢', '😭', '😤', '😠', '😡', '🤬',\n  '🤯', '😳', '🥵', '🥶', '😱', '😨', '😰', '😥', '😓', '🤗',\n  '🤔', '🤭', '🤫', '🤥', '😶', '😐', '😑', '😬', '🙄', '😯',\n  '😦', '😧', '😮', '😲', '🥱', '😴', '🤤', '😪', '😵', '🤐',\n  '🥴', '🤢', '🤮', '🤧', '😷', '🤒', '🤕', '🤑', '🤠', '👍',\n  '👎', '👏', '🙏', '🤝', '💪', '❤️', '💔', '💯', '✨', '🔥'\n]\n\n// 向回复框插入emoji\nconst insertEmoji = (emoji) => {\n  replyContent.value += emoji\n  showEmojiPicker.value = false // 选择后关闭emoji选择器\n}\n\n\n</script>\n\n<style lang=\"scss\" scoped>\n.comment-item {\n  @apply p-4;\n  @apply bg-white/50 dark:bg-gray-800/50;\n  @apply backdrop-blur-sm;\n  @apply border border-gray-200 dark:border-gray-700;\n  @apply rounded-lg;\n  @apply transition-all duration-300;\n  @apply hover:shadow-md;\n  @apply mb-4;\n}\n\n.comment-header {\n  @apply flex items-center justify-between;\n  @apply mb-2;\n\n  .comment-user {\n    @apply font-medium;\n    @apply text-gray-900 dark:text-gray-100;\n  }\n\n  .comment-time {\n    @apply text-sm;\n    @apply text-gray-500 dark:text-gray-400;\n  }\n}\n\n.comment-content {\n  @apply py-2;\n  @apply text-gray-700 dark:text-gray-300;\n}\n\n.comment-footer {\n  @apply flex justify-between items-center;\n  @apply mt-2;\n\n  .comment-actions {\n    @apply flex items-center gap-2;\n  }\n\n  .like-button, .reply-button, .toggle-button {\n    @apply flex items-center gap-1;\n    @apply text-gray-500 dark:text-gray-400;\n    @apply hover:text-blue-500 dark:hover:text-blue-400;\n    @apply transition-colors duration-300;\n\n    &.is-liked {\n      @apply text-red-500 dark:text-red-400;\n      @apply font-medium;\n    }\n  }\n\n  .toggle-button {\n    @apply text-blue-500 dark:text-blue-400;\n  }\n}\n\n.reply-input-container {\n  @apply mt-3 mb-3 pl-4 border-l-2 border-gray-200 dark:border-gray-700;\n\n  .reply-to-tip {\n    @apply text-sm font-medium text-blue-500 mb-2;\n  }\n\n  .reply-actions {\n    @apply flex justify-end mt-2 gap-2;\n  }\n}\n\n.emoji-container {\n  @apply relative mt-2;\n\n  .emoji-toggle {\n    @apply text-blue-500;\n  }\n\n      .emoji-picker {\n      @apply bg-white dark:bg-gray-800;\n      @apply rounded-lg shadow-lg;\n      @apply border border-gray-200 dark:border-gray-700;\n      @apply flex flex-wrap;\n      @apply overflow-y-auto;\n      @apply absolute bottom-full left-0;\n      @apply p-2;\n      @apply mb-2;\n      width: 280px;\n      max-height: 180px;\n\n      .emoji-item {\n        @apply p-2 cursor-pointer text-xl;\n        @apply hover:bg-gray-100 dark:hover:bg-gray-700;\n        @apply rounded transition-colors;\n        @apply flex items-center justify-center;\n        width: 40px;\n        height: 40px;\n      }\n  }\n}\n\n.comment-replies {\n  @apply mt-4 ml-2;\n  @apply space-y-4;\n  @apply border-l-2 border-gray-200 dark:border-gray-700;\n  @apply pl-2;\n}\n</style>\n","<template>\n  <div class=\"app-container\">\n    <div class=\"mobile-filter-toggle\" v-if=\"isMobile\" @click=\"toggleFilter\">\n      <el-button type=\"primary\" class=\"toggle-button\">\n        {{ isFilterVisible ? '收起筛选' : '展开筛选' }}\n        <el-icon class=\"toggle-icon\" :class=\"{ 'is-reverse': isFilterVisible }\">\n          <ArrowDown />\n        </el-icon>\n      </el-button>\n    </div>\n\n    <div\n      class=\"search-container\"\n      :class=\"{\n        'is-mobile': isMobile,\n        'is-collapsed': isMobile && !isFilterVisible\n      }\"\n    >\n      <el-form :inline=\"true\" class=\"search-form\">\n        <el-form-item label=\"\">\n          <el-input\n            v-model=\"input.search_txt\"\n            clearable\n            placeholder=\"插件名/描述:\"\n\n          >\n            <template #prefix>\n              <el-icon><Search /></el-icon>\n            </template>\n          </el-input>\n        </el-form-item>\n\n        <el-form-item label=\"排序:\">\n          <div class=\"sort-wrapper\">\n            <el-select v-model=\"input.order_by_col\" class=\"custom-select\">\n              <el-option label=\"star次数\" value=\"star_cnt\" />\n              <el-option label=\"下载人数\" value=\"download_user_cnt\" />\n              <el-option label=\"下载次数\" value=\"download_cnt\" />\n              <el-option label=\"最后更新时间\" value=\"publish_time\" />\n          </el-select>\n            <el-button\n              class=\"sort-button\"\n              :type=\"input.order_by_desc ? 'default' : 'primary'\"\n              @click=\"toggleSort\"\n            >\n              <el-icon>\n                <component :is=\"input.order_by_desc ? SortDown : SortUp\" />\n              </el-icon>\n            </el-button>\n          </div>\n        </el-form-item>\n\n        <el-form-item label=\"安装状态:\">\n          <el-select v-model=\"input.has_download_type\" class=\"custom-select\">\n            <el-option label=\"全部\" :value=\"null\" />\n            <el-option label=\"未安装\" :value=\"false\" />\n            <el-option label=\"已安装\" :value=\"true\" />\n          </el-select>\n        </el-form-item>\n\n        <el-form-item>\n              <el-button\n            type=\"primary\"\n            :icon=\"Search\"\n            class=\"search-button\"\n                @click=\"getPluginMarket\"\n          >\n            {{ $t('搜索') }}\n              </el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n\n    <div class=\"plugin-container\" v-loading=\"pluginListLoading\">\n      <div class=\"plugin-list\">\n        <div\n          v-for=\"(item, index) in pluginListData.list\"\n          :key=\"item.id\"\n          class=\"plugin-card-wrapper\"\n        >\n          <el-card\n            :class=\"['plugin-card', {'is-dark': settingsStore.theme === ThemeEnum.DARK}]\"\n            @click=\"lookPluginInfo(item)\"\n            :body-style=\"{ padding: '0' }\"\n          >\n            <div class=\"plugin-header\">\n              <img :src=\"item.logo\" class=\"plugin-logo\" loading=\"lazy\">\n              <h3 class=\"plugin-title\">{{ item.plugin_name }}</h3>\n            </div>\n\n            <div class=\"plugin-body\">\n              <p class=\"plugin-description\">\n                <el-tooltip :content=\"item.describe\" placement=\"top\">\n                  {{ truncatedText(item.describe, 50) }}\n              </el-tooltip>\n              </p>\n\n              <div class=\"plugin-tags\">\n                <el-tag v-if=\"item.has_download\" type=\"success\" effect=\"light\">已安装</el-tag>\n                <el-tag v-if=\"item.buy_coin_num > 0\" type=\"primary\" effect=\"light\">\n                  所需ev币: {{item.buy_coin_num}}个\n                </el-tag>\n                <el-tag v-else type=\"info\" effect=\"light\">免费</el-tag>\n              </div>\n\n              <div class=\"plugin-stats\">\n                <el-tooltip content=\"安装次数/人数\" placement=\"top\">\n                  <div class=\"stat-item\">\n                    <el-icon><Download /></el-icon>\n                    {{item.download_cnt}}/{{item.download_user_cnt}}\n              </div>\n                </el-tooltip>\n\n                <el-tooltip content=\"Star数\" placement=\"top\">\n                  <div class=\"stat-item\">\n                    <el-icon><Star /></el-icon>\n                    {{item.star_cnt}}\n              </div>\n                </el-tooltip>\n            </div>\n          </div>\n\n            <div class=\"plugin-footer\">\n              <span class=\"publish-time\">{{item.publish_time}}</span>\n              <el-button\n                :type=\"item.star_state === 1 ? 'primary' : 'default'\"\n                :icon=\"item.star_state === 1 ? StarFilled : Star\"\n                circle\n                @click.stop=\"starPlugin(item, index)\"\n              />\n          </div>\n          </el-card>\n          </div>\n      </div>\n\n      <!-- 添加底部间距，为粘性分页提供空间 -->\n      <div class=\"pagination-spacer\"></div>\n    </div>\n\n    <!-- 粘性分页组件 -->\n    <div class=\"pagination-container\">\n      <el-pagination\n        v-model:current-page=\"input.page\"\n        v-model:page-size=\"input.limit\"\n        :total=\"pluginListData.count\"\n        :page-sizes=\"[10, 20, 30, 50]\"\n        background\n        :layout=\"isMobile?'pager':'total, sizes, prev, pager, next, jumper'\"\n        @size-change=\"handlePluginListSizeChange\"\n        @current-change=\"handlePluginListPageChange\"\n      />\n    </div>\n\n    <el-drawer\n      class=\"plugin-detail-drawer\"\n      v-model=\"dialog.visible\"\n      title=\"插件详情\"\n      :size=\"isMobile ? '100%' : '100%'\"\n      :append-to-body=\"true\"\n      :with-header=\"true\"\n    >\n      <div class=\"plugin-detail\">\n        <el-card v-loading=\"installLoading\" class=\"detail-card\">\n          <div class=\"detail-header\">\n            <div class=\"header-main\">\n              <div class=\"plugin-info\" :class=\"{'plugin-info-mobile': isMobile}\">\n                <img :src=\"publishInput.pluginData.logo\" class=\"plugin-logo\">\n                <div class=\"info-content\">\n                  <h1 class=\"plugin-title\">{{publishInput.pluginData.plugin_name}}</h1>\n                  <p class=\"plugin-desc\">{{publishInput.pluginData.describe}}</p>\n                </div>\n                <div class=\"plugin-actions\" :class=\"{'plugin-actions-mobile': isMobile}\">\n                  <el-button\n                    type=\"primary\"\n                    v-if=\"!publishInput.pluginData.has_download\"\n                    @click=\"installPlugin(publishListData.list[0]?.version)\"\n                  >\n                    {{isMobile ? '安装' : '安装最新版本'}}\n                  </el-button>\n                  <el-button\n                    type=\"danger\"\n                    v-if=\"publishInput.pluginData.has_download\"\n                    @click=\"unInstall\"\n                  >\n                    卸载\n                  </el-button>\n                </div>\n              </div>\n\n              <div class=\"tag-group\" :class=\"{'tag-group-mobile': isMobile}\">\n                <el-tag v-if=\"publishInput.pluginData.has_download\" type=\"success\">已安装</el-tag>\n                <el-tag>开发者: {{publishInput.pluginData.realname}}</el-tag>\n                <el-tag :type=\"publishInput.pluginData.buy_coin_num > 0 ? 'primary' : 'info'\">\n                  {{publishInput.pluginData.buy_coin_num > 0 ? `所需ev币: ${publishInput.pluginData.buy_coin_num}个` : '免费'}}\n                </el-tag>\n                  </div>\n\n              <div class=\"stats-group\" :class=\"{'stats-group-mobile': isMobile}\">\n                <div class=\"stat-item\">\n                  <el-icon><Download /></el-icon>\n                  <span>安装: {{publishInput.pluginData.download_cnt}}次/{{publishInput.pluginData.download_user_cnt}}人</span>\n                  </div>\n                <div class=\"stat-item\">\n                  <el-icon><Star /></el-icon>\n                  <span>Star: {{publishInput.pluginData.star_cnt}}</span>\n                </div>\n                <div class=\"stat-item\">\n                  <el-icon><Clock /></el-icon>\n                  <span>更新时间: {{publishInput.pluginData.publish_time}}</span>\n              </div>\n                    </div>\n                  </div>\n                </div>\n\n          <el-tabs v-model=\"tabShowType\" class=\"detail-tabs\">\n                <el-tab-pane label=\"介绍\" name=\"readme\">\n              <div class=\"readme-content\">\n                  <mark-down-view :content=\"publishInput.pluginData.readme\"></mark-down-view>\n              </div>\n                </el-tab-pane>\n\n                <el-tab-pane label=\"版本列表\" name=\"versions\">\n              <div class=\"version-list\" :class=\"{'version-list-mobile': isMobile}\">\n                <el-timeline>\n                  <el-timeline-item\n                    v-for=\"(item,index) in limitedVersionList\"\n                    :key=\"index\"\n                    :timestamp=\"item.update_time\"\n                    placement=\"top\"\n                    class=\"version-timeline-item\"\n                  >\n                    <el-card class=\"version-card\">\n                        <template #header>\n                        <div class=\"version-header\">\n                          <span class=\"version-tag\">v{{item.version}}</span>\n                          <div class=\"version-actions\">\n\n                            <el-button\n                              @click.stop=\"installPlugin(item.version)\"\n                              type=\"warning\"\n                              :icon=\"Download\"\n                              circle\n                            />\n                            </div>\n                          </div>\n                        </template>\n                      <mark-down-view :content=\"item.changelog\" class=\"changelog\"></mark-down-view>\n\n                      </el-card>\n                    </el-timeline-item>\n                  </el-timeline>\n              </div>\n                </el-tab-pane>\n\n                <el-tab-pane label=\"评论\" name=\"comments\">\n                  <div class=\"comments-list\" v-loading=\"commentsLoading\">\n                    <div v-if=\"comments.length === 0\" class=\"empty-comments\">\n                      <el-empty description=\"暂无评论\" />\n                    </div>\n                    <div v-else class=\"comments-container\">\n                      <!-- 使用递归评论组件 -->\n                      <comment-item\n                        v-for=\"comment in comments\"\n                        :key=\"comment.id\"\n                        :comment=\"comment\"\n                        :plugin-id=\"publishInput.pluginData.id\"\n                        @refresh=\"getComments\"\n                      />\n                    </div>\n\n                                        <!-- 添加新评论 -->\n                    <div class=\"add-comment-container\">\n      <el-input\n        v-model=\"newCommentContent\"\n        type=\"textarea\"\n        :rows=\"3\"\n        placeholder=\"发表评论...\"\n        maxlength=\"200\"\n        show-word-limit\n      />\n\n      <div class=\"emoji-container\">\n        <el-button\n          type=\"text\"\n          size=\"small\"\n          class=\"emoji-toggle\"\n          @click=\"showMainEmojiPicker = !showMainEmojiPicker\"\n        >\n          😊 表情\n        </el-button>\n        <div v-if=\"showMainEmojiPicker\" style=\"z-index:300000\" class=\"emoji-picker\">\n          <div\n            v-for=\"emoji in emojiList\"\n            :key=\"emoji\"\n            class=\"emoji-item\"\n            @click=\"insertMainEmoji(emoji)\"\n          >\n            {{ emoji }}\n          </div>\n        </div>\n      </div>\n\n      <div class=\"comment-actions\">\n        <el-button type=\"primary\" @click=\"submitComment\">发表评论</el-button>\n      </div>\n    </div>\n\n                    <!-- 评论区底部空间 -->\n                    <div class=\"comments-spacer\"></div>\n                  </div>\n                </el-tab-pane>\n              </el-tabs>\n        </el-card>\n      </div>\n    </el-drawer>\n\n    <import-ev-key v-model:visible=\"importEvkeyDialogVisible\" ></import-ev-key>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport {useSettingsStore} from \"@/store\";\nimport {ThemeEnum} from \"@/enums/ThemeEnum\";\nimport {LikeComment,AddComment,PluginMarket, GetPluginInfo,InstallPlugin,StarPlugin,UnInstallPlugin,UploadPlugin,ListComments} from \"@/api/plugins\";\nimport MarkDownView from '@/components/MarkDownView/index.vue'\nimport ImportEvKey from '@/components/ImportEvKey/index.vue'\nimport CommentItem from '@/components/CommentItem.vue'\n\nimport {Star,StarFilled,Download, Search, SortUp, SortDown, Clock, ArrowDown, Pointer} from '@element-plus/icons-vue'\nimport {useAppStore} from \"@/store\";\nimport {DeviceEnum} from \"@/enums/DeviceEnum\";\nimport {getToken} from \"@/utils/auth\";\nconst appStore = useAppStore()\n\n\n\nconst isMobile = computed(() => appStore.device === DeviceEnum.MOBILE);\n\nconst dialog = reactive({\n  visible: false,\n})\n\nconst settingsStore = useSettingsStore();\n\nconst pluginListLoading = ref(false)\n\nconst publishLoading = ref(false)\n\nconst pluginListData = reactive({\n  count: 0,\n  list: []\n})\n\nconst publishListData = reactive({\n  count: 0,\n  list: []\n})\n\nconst tabShowType = ref(\"readme\")\n\nconst pluginBoxClass = computed(() => {\n  return {\n    'plugin-box-black': settingsStore.theme === ThemeEnum.DARK,\n    'plugin-box-light': settingsStore.theme !== ThemeEnum.DARK,\n    // 你可以添加更多的条件\n  }\n})\n\nconst input = reactive({\n  search_txt:'',\n  order_by_col:'star_cnt',\n  order_by_desc:true,\n  has_download_type:null,\n  page: 1,\n  limit: 10,\n})\n\nconst publishInput = reactive({\n  pluginData: {\n    id: 0,\n    plugin_alias: \"\",\n    plugin_name: \"\",\n    user_id: 0,\n    describe: \"\",\n    plugin_lang: \"\",\n    readme: \"\",\n    create_time: \"\",\n    update_time: \"\",\n    state: 2,\n    logo: \"\",\n    msg: \"\",\n    download_cnt: 0,\n    star_cnt: 0,\n    download_user_cnt: 0,\n    buy_coin_num:0\n  },\n  publish_id: 0,\n  page: 1,\n  limit: 10\n})\n\nconst importEvkeyDialogVisible = ref(false);\n\nconst openImportEvkeyDialogVisible = () => {\n  importEvkeyDialogVisible.value = true;\n};\n\nconst getBgColor = computed(()=>{\n  return settingsStore.theme === ThemeEnum.DARK ? 'rgb(24, 27, 31)': ''\n})\n\nconst unInstall = async ()=>{\n  installLoading.value = true\n  let res = await UnInstallPlugin({\n    plugin_id:publishInput.pluginData.plugin_alias,\n  })\n  installLoading.value = false\n  if (res.code != 0) {\n    ElMessage.error({\n      type: 'error',offset:60,\n      message: res.msg\n    })\n    return\n  }\n  publishInput.pluginData.has_download = false\n  ElMessage.success({\n    type: 'success',offset:60,\n    message: res.msg\n  })\n}\n\nconst getColor = computed(() => {\n  return settingsStore.theme === ThemeEnum.DARK ? 'rgb(204, 204, 220)' : 'black'\n})\n\nconst getColor2 = computed(() => {\n  return settingsStore.theme === ThemeEnum.DARK ? 'rgb(122,122,133)' : 'gray'\n})\n\nconst truncatedText = (text, maxLength) => {\n  return text.length > maxLength ? text.slice(0, maxLength) + '...' : text;\n};\n\nconst handlePluginListSizeChange = (v: number) => {\n  input.limit = v\n  getPluginMarket()\n}\n\nconst handlePluginListPageChange = (v: number) => {\n  input.page = v\n  getPluginMarket()\n}\n\nconst handlePublishSizeChange = (v: number) => {\n  input.limit = v\n  getPluginMarket()\n}\n\nconst handlePublishPageChange = (v: number) => {\n  input.page = v\n  getPluginInfo()\n}\n\nconst getPluginMarket = async () => {\n\n  pluginListLoading.value = true\n  const res = await PluginMarket(input)\n  pluginListLoading.value = false\n  if (res.code != 0) {\n    ElMessage.error({\n      type: 'error',offset:60,\n      message: res.msg\n    })\n    return\n  }\n\n  pluginListData.count = res.data.count\n  pluginListData.list = res.data.list\n}\n\nconst lookPluginInfo = async (row) => {\n  publishInput.pluginData = row\n  dialog.visible = true\n\n  await getPluginInfo()\n  await getComments()\n}\n\nconst installLoading = ref(false)\n\nconst confirmReloadPage = (pluginId) =>{\n  ElMessageBox.confirm(pluginId+'插件安裝成功,是否立即刷新页面?', '是否刷新', {\n    confirmButtonText: '确认',\n    cancelButtonText: '取消',\n    type: 'warning'\n  })\n    .then(async() => {\n     window.location.reload()\n    })\n    .catch(err => {\n      console.error(err)\n    })\n\n\n}\n\nconst installPlugin = async (version) => {\n  installLoading.value = true\n\n  let res = await InstallPlugin({\n    plugin_id:publishInput.pluginData.plugin_alias,\n    version:version\n  })\n  installLoading.value = false\n\n  if (res.msg.indexOf('请前往')!==-1){\n    openImportEvkeyDialogVisible()\n    return\n  }\n\n  if (res.code != 0) {\n    ElMessage.error({\n      type: 'error',offset:60,\n      message: res.msg\n    })\n    return\n  }\n  publishInput.pluginData.has_download = true\n\n  if(res.msg.indexOf(\"刷新\")!==-1){\n    await confirmReloadPage(publishInput.pluginData.plugin_name)\n  }else{\n    ElMessage.success({\n      type: 'success',offset:60,\n      message: res.msg\n    })\n  }\n\n}\n\nconst starPlugin = async (item,index) => {\n  let res = await StarPlugin({\n    plugin_id:item.id,\n  })\n  if (res.code != 0) {\n\n    if (res.msg.indexOf('请前往')!==-1){\n\n      openImportEvkeyDialogVisible()\n      return\n    }\n\n    ElMessage.error({\n      type: 'error',offset:60,\n      message: res.msg\n    })\n    return\n  }\n  let msg = 'star成功'\n  if(item.star_state == 1){\n    msg = '取消star成功'\n    pluginListData.list[index].star_state = 2\n    pluginListData.list[index].star_cnt =  pluginListData.list[index].star_cnt - 1\n  }else{\n    pluginListData.list[index].star_state = 1\n    pluginListData.list[index].star_cnt =  pluginListData.list[index].star_cnt + 1\n  }\n\n  ElMessage.success({\n    type: 'success',offset:60,\n    message: msg\n  })\n}\n\nconst getPluginInfo = async () => {\n  publishLoading.value = true\n  const res = await GetPluginInfo({\n    page: publishInput.page,\n    limit: publishInput.limit,\n    plugin_id: publishInput.pluginData.id,\n  })\n  publishLoading.value = false\n\n  if (res.code != 0) {\n    ElMessage.error({\n      type: 'error',offset:60,\n      message: res.msg\n    })\n    return\n  }\n  if(res.data.list == null)res.data.list = []\n  publishListData.count = res.data.count\n  publishListData.list = res.data.list\n\n}\n\nconst handleCloseDialog = () => {\n  dialog.visible = false\n}\n\nconst toggleSort = () => {\n  input.order_by_desc = !input.order_by_desc;\n  getPluginMarket(); // 切换后自动刷新列表\n}\n\nconst isFilterVisible = ref(false)\n\nconst toggleFilter = () => {\n  isFilterVisible.value = !isFilterVisible.value\n}\n\nconst commentsLoading = ref(false)\nconst comments = ref([])\nconst newCommentContent = ref('')\nconst showMainEmojiPicker = ref(false)\nconst replyState = reactive({\n  showReplyInput: false,\n  replyToId: 0,\n  replyContent: '',\n  replyToName: ''\n})\n\n// emoji表情列表\nconst emojiList = [\n  '😀', '😃', '😄', '😁', '😆', '😅', '😂', '🤣', '😊', '😇',\n  '🙂', '🙃', '😉', '😌', '😍', '🥰', '😘', '😗', '😙', '😚',\n  '😋', '😛', '😝', '😜', '🤪', '🤨', '🧐', '🤓', '😎', '🤩',\n  '🥳', '😏', '😒', '😞', '😔', '😟', '😕', '🙁', '☹️', '😣',\n  '😖', '😫', '😩', '🥺', '😢', '😭', '😤', '😠', '😡', '🤬',\n  '🤯', '😳', '🥵', '🥶', '😱', '😨', '😰', '😥', '😓', '🤗',\n  '🤔', '🤭', '🤫', '🤥', '😶', '😐', '😑', '😬', '🙄', '😯',\n  '😦', '😧', '😮', '😲', '🥱', '😴', '🤤', '😪', '😵', '🤐',\n  '🥴', '🤢', '🤮', '🤧', '😷', '🤒', '🤕', '🤑', '🤠', '👍',\n  '👎', '👏', '🙏', '🤝', '💪', '❤️', '💔', '💯', '✨', '🔥'\n]\n\n// 向主评论框插入emoji\nconst insertMainEmoji = (emoji) => {\n  newCommentContent.value += emoji\n  showMainEmojiPicker.value = false // 选择后关闭emoji选择器\n}\n\nconst getComments = async () => {\n  commentsLoading.value = true\n  try {\n    const res = await ListComments({\n      plugin_id: publishInput.pluginData.id\n    })\n\n    if (res.code !== 0) {\n      ElMessage.error({\n        type: 'error',\n        offset: 60,\n        message: res.msg\n      })\n      return\n    }\n\n    comments.value = res.data || []\n  } catch (error) {\n    console.error('获取评论失败', error)\n    ElMessage.error({\n      type: 'error',\n      offset: 60,\n      message: '获取评论失败'\n    })\n  } finally {\n    commentsLoading.value = false\n  }\n}\n\nconst showReplyInput = (commentId) => {\n  // 找到评论或回复的用户名\n  let replyToName = '';\n\n  // 查找主评论中是否有匹配的评论ID\n  const mainComment = comments.value.find(c => c.id === commentId);\n  if (mainComment) {\n    replyToName = mainComment.realname;\n  } else {\n    // 如果在主评论中没找到，则在子评论中查找\n    for (const comment of comments.value) {\n      if (comment.children && comment.children.length > 0) {\n        const childComment = comment.children.find(c => c.id === commentId);\n        if (childComment) {\n          replyToName = childComment.realname;\n          break;\n        }\n      }\n    }\n  }\n\n  replyState.showReplyInput = true;\n  replyState.replyToId = commentId;\n  replyState.replyContent = '';\n  replyState.replyToName = replyToName;\n}\n\nconst cancelReply = () => {\n  replyState.showReplyInput = false\n  replyState.replyToId = 0\n  replyState.replyContent = ''\n}\n\nconst submitComment = async () => {\n  if (!newCommentContent.value.trim()) {\n    ElMessage.warning({\n      type: 'warning',\n      offset: 60,\n      message: '评论内容不能为空'\n    })\n    return\n  }\n\n  commentsLoading.value = true\n  try {\n    const res = await AddComment({\n      plugin_id: publishInput.pluginData.id,\n      content: newCommentContent.value,\n      parent_id: 0\n    })\n\n    if (res.msg.indexOf('请前往')!==-1){\n      openImportEvkeyDialogVisible()\n      return\n    }\n\n\n    if (res.code !== 0) {\n      ElMessage.error({\n        type: 'error',\n        offset: 60,\n        message: res.msg\n      })\n      return\n    }\n\n    ElMessage.success({\n      type: 'success',\n      offset: 60,\n      message: '评论成功'\n    })\n\n    newCommentContent.value = ''\n    getComments() // 刷新评论列表\n  } catch (error) {\n    console.error('评论失败', error)\n    ElMessage.error({\n      type: 'error',\n      offset: 60,\n      message: '评论失败'\n    })\n  } finally {\n    commentsLoading.value = false\n  }\n}\n\nconst limitedVersionList = computed(() => {\n  return publishListData.list.slice(0, 100)\n})\n\nonMounted(() => {\n  getPluginMarket()\n})\n\n</script>\n\n<style lang=\"scss\" scoped>\n.mobile-filter-toggle {\n  @apply mb-4;\n\n  .toggle-button {\n    @apply w-full;\n    @apply flex items-center justify-center gap-2;\n\n    .toggle-icon {\n      @apply transition-transform duration-300;\n\n      &.is-reverse {\n        @apply transform rotate-180;\n      }\n    }\n  }\n}\n\n.search-container {\n  @apply mb-6 p-4;\n\n  @apply backdrop-blur-sm;\n  @apply rounded-lg;\n  @apply shadow-sm;\n  @apply transition-all duration-300;\n\n  &.is-mobile {\n    @apply overflow-hidden;\n\n    &.is-collapsed {\n      @apply h-0 p-0 mb-0;\n      @apply opacity-0;\n    }\n\n    .search-form {\n      @apply flex-col;\n\n      .el-form-item {\n        @apply w-full;\n\n        :deep(.el-form-item__content) {\n          @apply w-full;\n          @apply flex;\n\n          .custom-input,\n          .custom-select,\n          .sort-wrapper {\n            @apply flex-1;\n          }\n        }\n      }\n    }\n  }\n\n  .search-form {\n    @apply flex flex-wrap items-center gap-4;\n  }\n}\n\n.custom-input {\n  @apply w-64;\n  :deep(.el-input__wrapper) {\n    @apply shadow-sm;\n    @apply transition-all duration-300;\n\n    &:hover {\n      @apply shadow;\n    }\n  }\n}\n\n.custom-select {\n  @apply w-32;\n  :deep(.el-input__wrapper) {\n    @apply shadow-sm;\n    @apply transition-all duration-300;\n\n    &:hover {\n      @apply shadow;\n    }\n  }\n}\n\n.search-button {\n  @apply transition-all duration-300;\n  @apply hover:scale-105;\n}\n\n.plugin-container {\n  @apply my-6;\n}\n\n.plugin-list {\n  @apply grid gap-6;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n}\n\n.pagination-spacer {\n  @apply h-24; /* 提供分页组件空间 */\n}\n\n.plugin-card-wrapper {\n  @apply transition-all duration-300;\n  @apply hover:translate-y-[-4px];\n  @apply cursor-pointer;\n}\n\n.plugin-card {\n  @apply h-full;\n  @apply cursor-pointer;\n  @apply overflow-hidden;\n  @apply transition-all duration-300;\n\n  &:hover {\n    @apply shadow-lg;\n  }\n\n  &.is-dark {\n    @apply bg-transparent;\n    @apply border-gray-700;\n\n    :deep(.el-card__body) {\n      @apply bg-transparent;\n    }\n  }\n}\n\n.plugin-header {\n  @apply p-4;\n  @apply flex items-center gap-4;\n  @apply border-b border-gray-200 dark:border-gray-700;\n  @apply cursor-pointer;\n\n  .plugin-logo {\n    @apply w-12 h-12;\n    @apply object-contain;\n    @apply rounded-lg;\n  }\n\n  .plugin-title {\n    @apply m-0;\n    @apply text-lg font-medium;\n    @apply text-gray-900 dark:text-gray-100;\n  }\n}\n\n.plugin-body {\n  @apply p-4;\n  @apply flex flex-col gap-4;\n  @apply cursor-pointer;\n\n  .plugin-description {\n    @apply m-0;\n    @apply text-gray-600 dark:text-gray-400;\n    @apply line-clamp-2;\n  }\n\n  .plugin-tags {\n    @apply flex flex-wrap gap-2;\n  }\n\n  .plugin-stats {\n    @apply flex items-center gap-4;\n\n    .stat-item {\n      @apply flex items-center gap-1;\n      @apply text-sm text-gray-500 dark:text-gray-400;\n    }\n  }\n}\n\n.plugin-footer {\n  @apply p-4;\n  @apply flex items-center justify-between;\n  @apply border-t border-gray-200 dark:border-gray-700;\n  @apply cursor-pointer;\n\n  .publish-time {\n    @apply text-sm text-gray-500 dark:text-gray-400;\n  }\n}\n\n\n.pagination-container {\n  @apply mt-4 flex justify-end;\n  @apply overflow-x-auto;\n\n:deep(.el-pagination) {\n\n  @apply rounded-lg p-2;\n  @apply shadow-sm;\n  @apply min-w-fit;\n\n@media (max-width: 768px) {\n  @apply w-full;\n  @apply flex justify-center;\n  @apply text-sm;\n\n  .el-pager {\n    @apply flex-wrap;\n  }\n\n  .btn-prev,\n  .btn-next {\n    @apply min-w-[24px];\n  }\n\n  li {\n    @apply min-w-[24px];\n  }\n}\n}\n}\n\n// 添加暗色模式适配\n.dark {\n  .search-card {\n    @apply bg-transparent;\n  }\n\n  .plugin-card {\n    @apply bg-transparent;\n    @apply border-gray-700;\n  }\n\n  :deep(.el-card) {\n    @apply bg-transparent;\n\n    .el-card__body {\n      @apply bg-transparent;\n    }\n  }\n}\n\n.sort-wrapper {\n  @apply flex items-center gap-2;\n}\n\n.sort-button {\n  @apply flex items-center justify-center;\n  @apply transition-all duration-300;\n\n  :deep(.el-icon) {\n    @apply text-sm;\n  }\n}\n\n.plugin-detail {\n  @apply p-4;\n  @apply w-full;\n\n  @media screen and (max-width: 768px) {\n    @apply p-0;\n  }\n\n  .detail-card {\n    @apply backdrop-blur-sm;\n    @apply rounded-lg;\n    @apply shadow-sm;\n    @apply transition-all duration-300;\n    @apply w-full;\n    @apply p-6;\n\n    :deep(.el-card__body) {\n      .dark & {\n        @apply bg-transparent;\n      }\n    }\n\n    @media (max-width: 768px) {\n      @apply p-0;\n      @apply rounded-none;\n      @apply shadow-none;\n\n      :deep(.el-card__body) {\n        padding: 0 !important;\n        margin: 0 !important;\n      }\n    }\n  }\n\n  .detail-header {\n    @apply mb-6;\n\n    .header-main {\n      @apply space-y-6;\n    }\n\n          .plugin-info {\n        @apply flex items-start gap-6;\n        @apply w-full;\n\n        .plugin-logo {\n          @apply w-20 h-20;\n          @apply rounded-lg;\n          @apply object-contain;\n          @apply shadow-sm;\n        }\n\n        .info-content {\n          @apply flex-1;\n\n          .plugin-title {\n            @apply text-2xl font-medium;\n            @apply text-gray-900 dark:text-gray-100;\n            @apply mb-2;\n          }\n\n          .plugin-desc {\n            @apply text-gray-600 dark:text-gray-400;\n            @apply text-sm;\n          }\n        }\n\n        .plugin-actions {\n          @apply flex flex-col gap-2;\n          @apply ml-auto;\n          @apply self-center;\n        }\n\n        &.plugin-info-mobile {\n          @apply flex-col;\n\n          .plugin-logo {\n            @apply mx-auto mb-4;\n            @apply w-24 h-24;\n          }\n\n          .info-content {\n            @apply text-center mb-6;\n            @apply w-full;\n\n            .plugin-title {\n              @apply text-xl;\n              @apply mx-auto;\n              @apply text-center;\n            }\n\n            .plugin-desc {\n              @apply text-center mx-auto;\n              @apply max-w-md;\n            }\n          }\n        }\n\n        .plugin-actions-mobile {\n          @apply flex-row justify-center gap-4;\n          @apply mt-2 mb-4;\n          @apply w-full;\n          @apply self-start;\n        }\n    }\n\n    .tag-group {\n      @apply flex flex-wrap gap-2;\n      @apply mt-4;\n\n      &.tag-group-mobile {\n        @apply justify-center;\n      }\n    }\n\n    .stats-group {\n      @apply flex flex-wrap gap-6;\n      @apply mt-4;\n      @apply text-sm text-gray-500 dark:text-gray-400;\n\n      .stat-item {\n        @apply flex items-center gap-2;\n      }\n\n      &.stats-group-mobile {\n        @apply justify-center flex-col items-center gap-3;\n\n        .stat-item {\n          @apply text-center;\n        }\n      }\n    }\n  }\n\n  .detail-tabs {\n    :deep(.el-tabs__content) {\n      @apply mt-4;\n    }\n  }\n\n  .version-list {\n    @apply px-4;\n\n    &.version-list-mobile {\n      @apply px-1;\n    }\n\n    :deep(.el-timeline) {\n      @apply space-y-6;\n    }\n\n    :deep(.el-timeline-item__node) {\n      @apply bg-blue-500;\n    }\n\n    :deep(.el-timeline-item__timestamp) {\n      @apply text-sm font-medium;\n      @apply text-gray-500 dark:text-gray-400;\n      @apply mb-2;\n    }\n\n    :deep(.version-timeline-item) {\n      @apply mb-8;\n\n      .el-timeline-item__wrapper {\n        @apply py-2;\n      }\n    }\n\n    .version-card {\n      @apply bg-white/50 dark:bg-transparent;\n      @apply backdrop-blur-sm;\n      @apply border border-gray-200 dark:border-gray-700;\n      @apply transition-all duration-300;\n      @apply hover:shadow-md;\n      @apply rounded-lg;\n      @apply overflow-hidden;\n\n      :deep(.el-card__header) {\n        @apply p-0;\n      }\n\n      :deep(.el-card__body) {\n        .dark & {\n          @apply bg-transparent;\n        }\n      }\n\n      .version-header {\n        @apply flex items-center justify-between;\n        @apply p-4 pb-3;\n        @apply border-b border-gray-200 dark:border-gray-700;\n        @apply flex-wrap gap-3;\n\n        .version-tag {\n          @apply text-lg font-medium;\n          @apply text-gray-900 dark:text-gray-100;\n          @apply flex items-center gap-2;\n          @apply m-0;\n          @apply py-1;\n\n          &::before {\n            content: '';\n            @apply w-2 h-2;\n            @apply rounded-full;\n            @apply bg-green-500;\n          }\n        }\n\n        .version-actions {\n          @apply flex items-center gap-3;\n          @apply flex-wrap;\n\n          .version-support {\n            @apply text-sm;\n            @apply px-3 py-1;\n            @apply rounded-full;\n          }\n\n          .el-button {\n            @apply hover:scale-110;\n            @apply transition-transform duration-300;\n          }\n        }\n      }\n\n      .changelog {\n        @apply p-5;\n        @apply text-gray-600 dark:text-gray-400;\n        @apply text-sm;\n        @apply leading-relaxed;\n\n        :deep(h1, h2, h3, h4, h5, h6) {\n          @apply font-medium;\n          @apply mb-2;\n        }\n\n        :deep(p) {\n          @apply mb-3;\n        }\n\n        :deep(ul, ol) {\n          @apply pl-6;\n          @apply mb-3;\n        }\n\n        :deep(code) {\n          @apply px-1.5 py-0.5;\n          @apply rounded;\n          @apply bg-gray-100 dark:bg-gray-700;\n          @apply text-sm;\n        }\n\n        :deep(pre) {\n          @apply p-4;\n          @apply rounded-lg;\n          @apply bg-gray-100 dark:bg-gray-700;\n          @apply overflow-x-auto;\n          @apply mb-4;\n        }\n      }\n    }\n  }\n}\n\n.dialog-footer {\n  @apply flex justify-end gap-2;\n  @apply mt-4;\n}\n\n.plugin-detail-drawer {\n  :deep(.el-drawer__body) {\n    padding: 0 !important;\n    margin: 0 !important;\n    overflow-x: hidden;\n  }\n\n  :deep(.el-card) {\n    @media (max-width: 768px) {\n      box-shadow: none !important;\n      border-radius: 0 !important;\n\n      .el-card__body {\n        padding: 0 !important;\n        margin: 0 !important;\n      }\n    }\n  }\n}\n\n/* 添加全局样式覆盖 */\n:deep(.plugin-detail-drawer .el-drawer__body) {\n  padding: 0 !important;\n  margin: 0 !important;\n}\n\n// 优化标签样式\n:deep(.el-tag) {\n  @apply border-0;\n  @apply shadow-sm;\n\n  &.el-tag--warning {\n    @apply bg-amber-100 text-amber-800;\n    @apply dark:bg-amber-900/30 dark:text-amber-200;\n  }\n\n  &.el-tag--success {\n    @apply bg-green-100 text-green-800;\n    @apply dark:bg-green-900/30 dark:text-green-200;\n  }\n}\n\n.comments-list {\n  @apply mt-4;\n\n  .empty-comments {\n    @apply flex justify-center py-8;\n  }\n\n  .comments-container {\n    @apply space-y-6 mb-6;\n  }\n\n      .add-comment-container {\n      @apply mt-6 border-t border-gray-200 dark:border-gray-700 pt-4;\n      @apply pb-4;\n\n      .comment-actions {\n        @apply flex justify-end mt-2;\n      }\n    }\n\n    .comments-spacer {\n      @apply h-20; /* 评论区底部间距 */\n  }\n\n  .comment-item {\n    @apply p-4;\n    @apply bg-white/50 dark:bg-gray-800/50;\n    @apply backdrop-blur-sm;\n    @apply border border-gray-200 dark:border-gray-700;\n    @apply rounded-lg;\n    @apply transition-all duration-300;\n    @apply hover:shadow-md;\n  }\n\n  .comment-header {\n    @apply flex items-center justify-between;\n    @apply mb-2;\n\n    .comment-user {\n      @apply font-medium;\n      @apply text-gray-900 dark:text-gray-100;\n    }\n\n    .comment-time {\n      @apply text-sm;\n      @apply text-gray-500 dark:text-gray-400;\n    }\n  }\n\n  .comment-content {\n    @apply py-2;\n    @apply text-gray-700 dark:text-gray-300;\n  }\n\n  .comment-footer {\n    @apply flex justify-between items-center;\n    @apply mt-2;\n\n    .comment-actions {\n      @apply flex items-center gap-2;\n    }\n\n    .like-button, .reply-button {\n      @apply flex items-center gap-1;\n      @apply text-gray-500 dark:text-gray-400;\n      @apply hover:text-blue-500 dark:hover:text-blue-400;\n      @apply transition-colors duration-300;\n    }\n  }\n\n  .reply-input-container {\n    @apply mt-3 mb-3 pl-4 border-l-2 border-gray-200 dark:border-gray-700;\n\n    .reply-to-tip {\n      @apply text-sm font-medium text-blue-500 mb-2;\n    }\n\n    .reply-actions {\n      @apply flex justify-end mt-2 gap-2;\n    }\n  }\n\n  .comment-replies {\n    @apply mt-4 ml-8;\n    @apply space-y-4;\n    @apply border-l-2 border-gray-200 dark:border-gray-700;\n    @apply pl-4;\n  }\n\n  .emoji-container {\n    @apply relative mt-2;\n\n    .emoji-toggle {\n      @apply text-blue-500;\n    }\n\n          .emoji-picker {\n      @apply bg-white dark:bg-gray-800;\n      @apply rounded-lg shadow-lg;\n      @apply border border-gray-200 dark:border-gray-700;\n      @apply flex flex-wrap;\n      @apply overflow-y-auto;\n      @apply absolute bottom-full left-0;\n      @apply p-2;\n      @apply mb-2;\n      width: 280px;\n      max-height: 180px;\n\n      .emoji-item {\n        @apply p-2 cursor-pointer text-xl;\n        @apply hover:bg-gray-100 dark:hover:bg-gray-700;\n        @apply rounded transition-colors;\n        @apply flex items-center justify-center;\n        width: 40px;\n        height: 40px;\n      }\n    }\n  }\n\n  .reply-item {\n    @apply p-3;\n    @apply bg-gray-50 dark:bg-gray-800;\n    @apply rounded-lg;\n    @apply border border-gray-100 dark:border-gray-700;\n  }\n\n  .reply-header {\n    @apply flex items-center justify-between;\n    @apply mb-2;\n\n    .reply-user {\n      @apply font-medium;\n      @apply text-gray-900 dark:text-gray-100;\n    }\n\n    .reply-time {\n      @apply text-sm;\n      @apply text-gray-500 dark:text-gray-400;\n    }\n  }\n\n  .reply-content {\n    @apply py-1;\n    @apply text-gray-700 dark:text-gray-300;\n  }\n\n  .reply-footer {\n    @apply flex justify-between items-center;\n    @apply mt-2;\n\n    .reply-actions {\n      @apply flex items-center gap-2;\n    }\n  }\n}\n\n.version-mobile-info {\n          @apply mt-4 pt-4;\n          @apply border-t border-gray-100 dark:border-gray-700;\n          @apply flex gap-2 flex-wrap justify-center;\n\n          .el-tag {\n            @apply mb-1;\n          }\n        }\n\n@media screen and (max-width: 768px) {\n  .version-header {\n    @apply flex items-center justify-between;\n\n    .version-tag {\n      @apply m-0;\n    }\n\n    .version-actions {\n      @apply self-center;\n    }\n  }\n\n  .changelog {\n    @apply px-4 py-4;\n  }\n}\n</style>\n"],"names":["Timeline","defineComponent","name","setup","_","slots","ns","useNamespace","provide","h","class","b","renderSlot","timelineItemProps","buildProps","timestamp","type","String","default","hideTimestamp","Boolean","center","placement","values","color","size","icon","iconPropType","hollow","__default__","TimelineItem","props","__props","defaultNodeKls","computed","e","em","is","_ctx","_cache","openBlock","createElementBlock","normalizeClass","unref","createElementVNode","$slots","dot","createCommentVNode","key","style","normalizeStyle","backgroundColor","createBlock","ElIcon","withCtx","resolveDynamicComponent","toDisplayString","ElTimeline","withInstall","ElTimelineItem","withNoopInstall","appStore","useAppStore","isMobile","device","DeviceEnum","MOBILE","emit","__emit","form","ref","evKey","dialogVisible","watch","visible","newValue","value","handleClose","submitForm","async","ElMessage","error","res","ImportEvKey","ev_key","code","success","offset","message","msg","importEvkeyDialogVisible","openImportEvkeyDialogVisible","replyVisible","replyContent","isCollapsed","showEmojiPicker","likeLoading","canShowChildren","level","handleLike","console","log","comment","id","originalLikeState","has_like","originalLikeCount","like_count","Math","max","LikeComment","comment_id","indexOf","handleToggle","MAX_MOBILE_LEVEL","_a","children","length","ElMessageBox","alert","confirmButtonText","formattedDate","created_at","date","Date","getMonth","toString","padStart","getDate","handleReply","cancelReply","submitReply","trim","AddComment","plugin_id","pluginId","content","parent_id","warning","emojiList","emoji","dialog","reactive","settingsStore","useSettingsStore","pluginListLoading","publishLoading","pluginListData","count","list","publishListData","tabShowType","theme","ThemeEnum","DARK","input","search_txt","order_by_col","order_by_desc","has_download_type","page","limit","publishInput","pluginData","plugin_alias","plugin_name","user_id","describe","plugin_lang","readme","create_time","update_time","state","logo","download_cnt","star_cnt","download_user_cnt","buy_coin_num","publish_id","unInstall","installLoading","UnInstallPlugin","has_download","handlePluginListSizeChange","v","handlePluginListPageChange","getPluginMarket","PluginMarket","data","installPlugin","version","InstallPlugin","confirm","cancelButtonText","then","window","location","reload","catch","err","getPluginInfo","GetPluginInfo","toggleSort","isFilterVisible","toggleFilter","commentsLoading","comments","newCommentContent","showMainEmojiPicker","showReplyInput","replyToId","replyToName","getComments","ListComments","submitComment","limitedVersionList","slice","onMounted","row","text","maxLength","item","index","StarPlugin","star_state"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}