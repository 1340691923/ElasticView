import{d as e,a0 as t,o as s,e as a,f as n,w as c,l,C as o,a7 as d,F as r,g as u,aN as i}from"./index.CLV6ek40.js";import{E as x,a as m}from"./el-col.Cpf5VUqJ.js";import{E as f}from"./el-card.BDOdcgEj.js";/* empty css               */import{I as p,C as y}from"./es.BEpn2cxD.js";import{E as _}from"./index.DHrNonpr.js";const g={class:"flex-x-between"},v=o("span",{class:"text-[var(--el-text-color-secondary)]"},"总分片数",-1),w={class:"flex-x-between mt-2 text-sm text-[var(--el-text-color-secondary)]"},b=o("span",null," 主分片数 ",-1),h={class:"flex-x-between mt-2 text-sm text-[var(--el-text-color-secondary)]"},j=o("span",null," 未分配的分片数 ",-1),C={class:"flex-x-between"},S=o("span",{class:"text-[var(--el-text-color-secondary)]"},"索引数",-1),E={class:"flex-x-between mt-2 text-sm text-[var(--el-text-color-secondary)]"},N=o("span",null," 文档数 ",-1),z={class:"flex-x-between mt-2 text-sm text-[var(--el-text-color-secondary)]"},k=o("span",null," 索引所占空间大小 ",-1),A=e({__name:"EsDashbord",setup(e){const A=t({count:{allShared:0,successfulShared:0,index:0,pri:0,unassigned:0,document:0,size:0}});return s((()=>{(async()=>{const e={es_connect:i()},{data:t,code:s,msg:a}=await p(e);0==s&&(A.count.index=t)})(),(async()=>{const e={cat:"CatAllocation",es_connect:i()},{data:t,code:s,msg:a}=await y(e);0==s&&(A.count.size=t[0]["disk.indices"])})(),(async()=>{const e={cat:"CatHealth",es_connect:i()},{data:t,code:s,msg:a}=await y(e);if(0==s&&t.length>0){let e=0,s=0,a=0;for(let n in t){let c=t[n];a+=Number(c.pri),e+=Number(c.shards),s+=Number(c.unassign)}A.count.unassigned=s,A.count.allShared=e,A.count.pri=a}})(),(async()=>{const e={cat:"CatStats",es_connect:i()},{data:t,code:s,msg:a}=await y(e);0==s&&(A.count.document=t.indices.docs.count)})()})),(e,t)=>{const s=_,i=f,p=x,y=m;return a(),n(y,{gutter:10,class:"mt-5"},{default:c((()=>[l(p,{xs:24,sm:12,lg:6},{default:c((()=>[l(i,null,{header:c((()=>[o("div",g,[v,l(s,{type:"primary"},{default:c((()=>[d(r(u(A).count.allShared),1)])),_:1})])])),default:c((()=>[o("div",w,[b,l(s,{type:"success"},{default:c((()=>[d(r(u(A).count.pri),1)])),_:1})]),o("div",h,[j,l(s,{type:"danger"},{default:c((()=>[d(r(u(A).count.unassigned),1)])),_:1})])])),_:1})])),_:1}),l(p,{xs:24,sm:12,lg:6},{default:c((()=>[l(i,null,{header:c((()=>[o("div",C,[S,l(s,{type:"primary"},{default:c((()=>[d(r(u(A).count.index),1)])),_:1})])])),default:c((()=>[o("div",E,[N,l(s,{type:"success"},{default:c((()=>[d(r(u(A).count.document),1)])),_:1})]),o("div",z,[k,l(s,{type:"danger"},{default:c((()=>[d(r(u(A).count.size),1)])),_:1})])])),_:1})])),_:1})])),_:1})}}});export{A as _};
//# sourceMappingURL=EsDashbord.vue_vue_type_script_setup_true_lang.C4O0qCkU.js.map
