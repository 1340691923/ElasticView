import{S as n,k as t}from"./_Uint8Array.BEOPqGcx.js";import{b as r}from"./isEqual.B61-3bNT.js";import{bT as e,cB as o,cC as u,cp as a,cD as i,cE as s,cF as c,cG as f,I as l,bL as d}from"./index.DMBpWXpT.js";var v=1,p=2;function g(n){return n==n&&!e(n)}function m(n,t){return function(r){return null!=r&&(r[n]===t&&(void 0!==t||n in Object(r)))}}function b(e){var o=function(n){for(var r=t(n),e=r.length;e--;){var o=r[e],u=n[o];r[e]=[o,u,g(u)]}return r}(e);return 1==o.length&&o[0][2]?m(o[0][0],o[0][1]):function(t){return t===e||function(t,e,o,u){var a=o.length,i=a;if(null==t)return!i;for(t=Object(t);a--;){var s=o[a];if(s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++a<i;){var c=(s=o[a])[0],f=t[c],l=s[1];if(s[2]){if(void 0===f&&!(c in t))return!1}else{var d=new n;if(!r(l,f,v|p,u,d))return!1}}return!0}(t,0,o)}}var h=1,j=2;function y(n){return o(n)?(t=u(n),function(n){return null==n?void 0:n[t]}):function(n){return function(t){return s(t,n)}}(n);var t}function E(n){return"function"==typeof n?n:null==n?c:"object"==typeof n?f(n)?(t=n[0],e=n[1],o(t)&&g(e)?m(u(t),e):function(n){var o=a(n,t);return void 0===o&&o===e?i(n,t):r(e,o,h|j)}):b(n):y(n);var t,e}const F=new Map;let w;function x(n,t){let r=[];return Array.isArray(t.arg)?r=t.arg:d(t.arg)&&r.push(t.arg),function(e,o){const u=t.instance.popperRef,a=e.target,i=null==o?void 0:o.target,s=!t||!t.instance,c=!a||!i,f=n.contains(a)||n.contains(i),l=n===a,d=r.length&&r.some((n=>null==n?void 0:n.contains(a)))||r.length&&r.includes(i),v=u&&(u.contains(a)||u.contains(i));s||c||f||l||d||v||t.value(e,o)}}l&&(document.addEventListener("mousedown",(n=>w=n)),document.addEventListener("mouseup",(n=>{for(const t of F.values())for(const{documentHandler:r}of t)r(n,w)})));const A={beforeMount(n,t){F.has(n)||F.set(n,[]),F.get(n).push({documentHandler:x(n,t),bindingFn:t.value})},updated(n,t){F.has(n)||F.set(n,[]);const r=F.get(n),e=r.findIndex((n=>n.bindingFn===t.oldValue)),o={documentHandler:x(n,t),bindingFn:t.value};e>=0?r.splice(e,1,o):r.push(o)},unmounted(n){F.delete(n)}};export{A as C,E as b};
