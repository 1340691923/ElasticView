import{d as e,a0 as a,c as l,o,e as t,h as s,l as r,w as d,g as c,a7 as m,cx as p,b4 as n,cy as u,a5 as f,a6 as i}from"./index.W33FBolP.js";import{E as g}from"./el-card.CAShaOk8.js";import{E as w,a as h}from"./el-tab-pane.DAaixt0V.js";import{a as V,E as _}from"./el-form.yboLIzGg.js";import"./el-form-item.l0sNRNKZ.js";import{E as b}from"./el-switch.CDveTOpw.js";const y={class:"app-container"},C=e({__name:"oauth",setup(e){const C=a({authType:"企业微信认证(内部应用)",wecomeCfg:{rootUrl:"",agentId:"",corpid:"",enable:!1,secert:""}}),U=l((()=>{let e=window.location.href;return`例如:${"http:"===e.split("//")[0]?"http":"https"}://${e.split("//")[1].split("/")[0]}/`}));return o((()=>{(async()=>{const e=await u({});0==e.code?C.wecomeCfg=e.data["企业微信认证(内部应用)"]:n.error({message:e.msg,type:"error"})})()})),(e,a)=>{const l=b,o=V,u=f,x=i,j=_,I=w,v=h,E=g;return t(),s("div",y,[r(E,{shadow:"never",class:"table-container"},{default:d((()=>[r(v,{modelValue:c(C).authType,"onUpdate:modelValue":a[6]||(a[6]=e=>c(C).authType=e)},{default:d((()=>[r(I,{label:"企业微信认证(内部应用)",name:"企业微信认证(内部应用)"},{default:d((()=>[r(j,{"label-width":"100px","label-position":"left"},{default:d((()=>[r(o,{label:"开启认证:"},{default:d((()=>[r(l,{modelValue:c(C).wecomeCfg.enable,"onUpdate:modelValue":a[0]||(a[0]=e=>c(C).wecomeCfg.enable=e),"active-text":"开启","inactive-text":"不开启"},null,8,["modelValue"])])),_:1}),r(o,{label:"回调域名:"},{default:d((()=>[r(u,{placeholder:c(U),modelValue:c(C).wecomeCfg.rootUrl,"onUpdate:modelValue":a[1]||(a[1]=e=>c(C).wecomeCfg.rootUrl=e)},null,8,["placeholder","modelValue"])])),_:1}),r(o,{label:"corpid:"},{default:d((()=>[r(u,{placeholder:"企业 ID，在企业微信管理后台可查，用于识别调用接口的企业身份。类似于企业的唯一编号。",modelValue:c(C).wecomeCfg.corpid,"onUpdate:modelValue":a[2]||(a[2]=e=>c(C).wecomeCfg.corpid=e)},null,8,["modelValue"])])),_:1}),r(o,{label:"agentId:"},{default:d((()=>[r(u,{placeholder:"应用 ID，用于区分具体是哪个企业内部应用。",modelValue:c(C).wecomeCfg.agentId,"onUpdate:modelValue":a[3]||(a[3]=e=>c(C).wecomeCfg.agentId=e)},null,8,["modelValue"])])),_:1}),r(o,{label:"secert:"},{default:d((()=>[r(u,{placeholder:"自建应用凭证密钥，用于获取该应用的 access_token。每个应用有不同的 secret，在企业微信管理后台可以查看。",type:"password","show-password":"",modelValue:c(C).wecomeCfg.secert,"onUpdate:modelValue":a[4]||(a[4]=e=>c(C).wecomeCfg.secert=e)},null,8,["modelValue"])])),_:1}),r(o,{label:""},{default:d((()=>[r(x,{onClick:a[5]||(a[5]=e=>(async e=>{const a=await p(e);0==a.code?n.success({message:a.msg,type:"success"}):n.error({message:a.msg,type:"error"})})({application_name:c(C).authType,config:c(C).wecomeCfg})),type:"primary"},{default:d((()=>[m("提交")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])}}});export{C as _};
//# sourceMappingURL=oauth.vue_vue_type_script_setup_true_lang.BS5A8Kkw.js.map
