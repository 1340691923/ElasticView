{"version":3,"file":"link.DVrqew4d.js","sources":["../../../vue/src/views/connect-tree/link.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div class=\"search-container\">\n      <el-form :inline=\"true\">\n        <el-form-item label=\"\" >\n          <el-button\n            type=\"success\"\n            class=\"filter-item\"\n            @click=\"getList(1)\"\n          >{{$t('搜索')}}\n          </el-button>\n        </el-form-item>\n\n\n        <el-form-item label=\"\" >\n          <el-button\n\n            type=\"primary\"\n            class=\"filter-item\"\n            @click=\"handleAddRole\"\n          >{{ $t('新建数据源') }}\n          </el-button>\n        </el-form-item>\n\n        <el-form-item :label=\" $t('鉴权配置')\" >\n\n          <el-switch\n            @change=\"changeExpand\"\n            v-model=\"default_expand_all\"\n            active-text=\"展开\"\n            inactive-text=\"折叠\">\n          </el-switch>\n        </el-form-item>\n      </el-form>\n    </div>\n    <el-card shadow=\"never\" class=\"table-container\">\n\n      <el-table\n        :row-key=\"getRowKey\"\n        :expand-row-keys=\"expandRowKeys\"\n        @expand-change=\"handleExpandChange\"\n      v-loading=\"getListLoading\"\n      :data=\"list\"\n    >\n      <el-table-column width=\"50\"  :label=\"$t('鉴权')\" type=\"expand\">\n        <template #default=\"props\">\n          <el-table style=\"width: 100%\" :data=\"props.row.es_link_configs\">\n            <el-table-column\n              :label=\"$t('备注')\"\n              align=\"center\"\n\n            >\n              <template #default=\"scope\">\n                {{ scope.row.remark }}\n              </template>\n            </el-table-column>\n            <el-table-column align=\"center\" :label=\"$t('已分配角色')\" width=\"400\">\n              <template #default=\"scope\">\n                <template v-for=\"(v,index) in  scope.row.share_roles\">\n                  <el-tag>{{roleMap[v]}}</el-tag>\n                </template>\n              </template>\n            </el-table-column>\n\n            <el-table-column align=\"center\" :label=\"$t('用户名')\" width=\"300\">\n              <template #default=\"scope\">\n                {{ scope.row.user }}\n              </template>\n            </el-table-column>\n\n            <el-table-column align=\"center\" :label=\"$t('root证书')\" width=\"120\" show-overflow-tooltip>\n              <template #default=\"scope\">\n                {{ scope.row.rootpem }}\n              </template>\n            </el-table-column>\n            <el-table-column align=\"center\" :label=\"$t('cert证书')\" width=\"120\" show-overflow-tooltip>\n              <template #default=\"scope\">\n                {{ scope.row.certpem }}\n              </template>\n            </el-table-column>\n            <el-table-column align=\"center\" :label=\"$t('key证书')\" width=\"120\" show-overflow-tooltip>\n              <template #default=\"scope\">\n                {{ scope.row.keypem }}\n              </template>\n            </el-table-column>\n            <el-table-column align=\"center\" :label=\"$t('操作')\" fixed=\"right\" width=\"300\">\n              <template #default=\"scope2\">\n\n                <el-button\n                  v-loading=\"scope2.row.connectLoading\"\n                  :disabled=\"scope2.row.connectLoading\"\n                  type=\"success\"\n\n                  @click=\"testConnect(scope2)\"\n                >{{ $t('ping') }}\n                </el-button>\n\n                <el-button\n                  type=\"danger\"\n\n                  @click=\"deleteEsCfgRelation(scope2)\"\n                >{{ $t('删除') }}\n                </el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n        </template>\n      </el-table-column>\n      <el-table-column\n        :label=\"$t('备注')\"\n        align=\"center\"\n        width=\"100\"\n      >\n        <template #default=\"scope\">\n          {{ scope.row.remark }}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\"   :label=\"$t('数据源地址')\" >\n        <template #default=\"scope\">\n          {{ scope.row.ip }}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" :label=\"$t('数据源类型')\" width=\"140\">\n        <template #default=\"scope\">\n          {{ scope.row.version }}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\"  width=\"200\" :label=\"$t('创建时间')\" >\n        <template #default=\"scope\">\n          {{ scope.row.created }}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" width=\"200\"  :label=\"$t('修改时间')\" >\n        <template #default=\"scope\">\n          {{ scope.row.updated }}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\"   fixed=\"right\" :label=\"$t('操作')\" width=\"130\">\n        <template #default=\"scope\">\n\n          <el-button\n            type=\"primary\"\n\n            @click=\"handleEdit(scope)\"\n            :icon=\"Edit\"\n          >\n          </el-button>\n          <el-button\n            type=\"danger\"\n            :icon=\"Delete\"\n            @click=\"handleDelete(scope)\"\n          >\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    </el-card>\n    <div class=\"pagination-container\">\n      <el-pagination\n        background\n        :current-page=\"input.page\"\n        :page-size=\"input.limit\"\n        :total=\"count\"\n        @current-change=\"getList\"\n        @size-change=\"handleSizeChange\"\n      />\n    </div>\n    <el-drawer\n      :size=\"isMobile?'100%':'80%'\"\n\n      v-model=\"dialogVisible\"\n      :title=\"dialogType==='edit'?$t('编辑数据源'):$t('新建数据源')\"\n    >\n      <el-form :model=\"link\" label-width=\"100px\" label-position=\"left\">\n        <el-form-item :label=\"$t('备注')\">\n          <el-input clearable v-model=\"link.remark\" :placeholder=\"$t('备注')\" />\n        </el-form-item>\n        <el-form-item :label=\"$t('数据源地址')\">\n          <el-input v-model=\"link.ip\" :placeholder=\"$t('例如:http://127.0.0.1:9200')\" />\n        </el-form-item>\n        <el-form-item :label=\"$t('数据源类型')\">\n          <el-select @change=\"changeVersion\" v-model=\"link.version\" :placeholder=\"$t('请选择数据源类型')\" filterable>\n            <el-option label=\"elasticsearch6.x\" value=\"elasticsearch6.x\" />\n            <el-option label=\"elasticsearch7.x\" value=\"elasticsearch7.x\" />\n            <el-option label=\"elasticsearch8.x\" value=\"elasticsearch8.x\" />\n            <el-option label=\"mysql\" value=\"mysql\" />\n            <el-option label=\"redis\" value=\"redis\" />\n            <el-option label=\"clickhouse\" value=\"clickhouse\" />\n            <el-option label=\"postgres\" value=\"postgres\" />\n            <el-option label=\"mongo\" value=\"mongo\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item :label=\"$t('鉴权列表')\">\n          <el-select\n            filterable\n            v-model=\"link.cfgIds\"\n            style=\"width: 150px\"\n            collapse-tags\n            multiple\n            :placeholder=\"$t('请选择')\"\n          >\n            <el-option v-for=\"(v,k,index) in esCfgOptlist\" :key=\"index\" :label=\"v.remark\" :value=\"v.id\" />\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <el-button\n          type=\"danger\"\n          @click=\"dialogVisible=false\"\n        >{{ $t('取消') }}\n        </el-button>\n        <el-button\n          type=\"primary\"\n          @click=\"confirm\"\n        >{{ $t('确认') }}\n        </el-button>\n      </template>\n    </el-drawer>\n  </div>\n</template>\n\n<script>\nimport { DeleteAction, InsertAction, ListAction, UpdateAction,\n  GetEsCfgOpt,DeleteEsCfgRelation,DeleteEsCfgAction,\n} from '@/api/es-link'\nimport { PingAction } from '@/api/es'\n\nimport {roleOption} from \"@/api/user\";\nimport {Plus,Search,Edit,Delete} from \"@element-plus/icons-vue\";\nimport {useAppStore} from \"@/store\";\nimport {DeviceEnum} from \"@/enums/DeviceEnum\";\n\nconst defaultLink = {\n  id: 0,\n  ip: 'http://127.0.0.1:9200',\n  remark: '',\n  version: 'elasticsearch8.x',\n  cfgIds:[],\n}\n\nexport default {\n  setup(){\n    const appStore = useAppStore()\n    const { device } = storeToRefs(appStore)\n    return {Edit,Delete,device}\n  },\n  data() {\n    return {\n      input: {\n        page: 1,\n        limit: 10,\n      },\n      count: 0,\n      esCfgOptlist:[],\n      managerFormdialogVisible:false,\n      default_expand_all:false,\n      getListLoading:false,\n      usernameWord:[\n        { \"value\": \"elastic\" },\n      ],\n      testConnectLoading: false,\n      connectLoading: false,\n      loadingMap:{},\n      link: Object.assign({}, defaultLink),\n      list: [],\n      dialogVisible: false,\n      dialogType: 'new',\n      dialogEditCfgVisible:false,\n      addEsCfgForm:{\n        es_link_id:0,\n        user: '',\n        pwd: '',\n        remark: '',\n        rootpem: '',\n        certpem: '',\n        keypem: '',\n        share_roles:[],\n      },\n      editEsCfgForm:{\n        linkId:0,\n        id:0,\n        user: '',\n        pwd: '',\n        remark: '',\n        rootpem: '',\n        certpem: '',\n        keypem: '',\n        share_roles:[]\n      },\n      selectEsLinkId:0,\n      selectEsVersion:'elasticsearch6.x',\n      selectEsIp:'',\n      roleMap:{},\n      roleList:[],\n      allRoleConfig:[],\n      expandRowKeys: [],\n    }\n  },\n  async created() {\n    await this.getEsCfgOpt()\n    await this.initAllRoles()\n    this.getList(1)\n  },\n  computed: {\n    isMobile(){\n      return this.device === DeviceEnum.MOBILE\n    },\n  },\n  methods: {\n    changeVersion(){\n      /***\n       * <el-option label=\"elasticsearch6.x\" value=\"elasticsearch6.x\" />\n       *             <el-option label=\"elasticsearch7.x\" value=\"elasticsearch7.x\" />\n       *             <el-option label=\"elasticsearch8.x\" value=\"elasticsearch8.x\" />\n       *             <el-option label=\"mysql\" value=\"mysql\" />\n       *             <el-option label=\"redis\" value=\"redis\" />\n       *             <el-option label=\"clickhouse\" value=\"clickhouse\" />\n       *             <el-option label=\"postgres\" value=\"postgres\" />\n       *             <el-option label=\"mongo\" value=\"mongo\" />\n       */\n      switch (this.link.version){\n        case \"elasticsearch6.x\":\n          this.link.ip = \"http://127.0.0.1:9200\"\n          break\n        case \"elasticsearch7.x\":\n          this.link.ip = \"http://127.0.0.1:9200\"\n          break\n        case \"elasticsearch8.x\":\n          this.link.ip = \"https://127.0.0.1:9200\"\n          break\n        case \"mysql\":\n          this.link.ip = \"127.0.0.1:3306\"\n          break\n        case \"clickhouse\":\n          this.link.ip = \"127.0.0.1:9000\"\n          break\n        case \"postgres\":\n          this.link.ip = \"127.0.0.1:5432\"\n          break\n        case \"mongo\":\n          this.link.ip = \"127.0.0.1:27017\"\n          break\n        case \"redis\":\n          this.link.ip = \"127.0.0.1:6379\"\n          break\n      }\n    },\n    changeExpand(){\n      if(this.default_expand_all) {\n        this.expandRowKeys = this.list.map(item => item.id)\n      }else{\n        this.expandRowKeys = []\n      }\n\n    },\n    //获取行的唯一标识符（key）\n    getRowKey(row) {\n      return row.id;\n    },\n    // 处理行展开事件\n    handleExpandChange(row, expandedRows) {\n      this.expandRowKeys = expandedRows.map(item => item.id)\n      let expandRowKeys = []\n      for(let i in this.expandRowKeys){\n        expandRowKeys.push(this.expandRowKeys[i])\n      }\n      if(expandRowKeys.length  == this.list.map(item => item.id).length ){\n        this.default_expand_all = true\n      }\n      if(expandRowKeys.length == 0 ){\n        this.default_expand_all = false\n      }\n\n    },\n    async deleteEsCfgRelation(scope2 ){\n      ElMessageBox.confirm('确定删除该配置吗?', '警告', {\n        confirmButtonText: '确认',\n        cancelButtonText: '取消',\n        type: 'warning'\n      })\n        .then(async() => {\n          const res = await DeleteEsCfgRelation({id:scope2.row.cfg_relation_id})\n          if (res.code != 0) {\n            ElMessage.error({\n              type: 'error',offset:60,\n              message: res.msg\n            })\n            return\n          }\n          this.getList(1)\n        })\n        .catch(err => {\n          console.error(err)\n        })\n\n\n    },\n    filterMethod(query, item) {\n      return item.label.indexOf(query) > -1\n    },\n    async getEsCfgOpt(){\n      const res = await GetEsCfgOpt()\n      if (res.code != 0) {\n        ElMessage.error({\n          type: 'error',offset:60,\n          message: res.msg\n        })\n        return\n      }\n      if(res.data==null) res.data = []\n      this.esCfgOptlist = res.data\n    },\n    async initAllRoles(){\n      const res = await roleOption()\n      if (res.code != 0) {\n        ElMessage.error({\n          type: 'error',offset:60,\n          message: res.msg\n        })\n        return\n      }\n      if(res.data==null) res.data = []\n      this.roleMap = {}\n      for(let v of res.data){\n        this.roleMap[v.id] = v.name\n      }\n      this.roleList = res.data\n    },\n    testConnect(scope) {\n      scope.row.connectLoading = true\n      PingAction({\n        id:scope.row.cfg_relation_id,\n        ip:scope.row.ip,\n        user:scope.row.user,\n        pwd:scope.row.pwd,\n        version:scope.row.version,\n        rootpem:scope.row.rootpem,\n        certpem:scope.row.certpem,\n        keypem:scope.row.keypem,\n        header:scope.row.header,\n      }).then(res => {\n        scope.row.connectLoading = false\n        if (res.code == 0) {\n          ElMessage.success({\n            type: 'success',offset:60,\n            message: `连接成功`\n          })\n        } else {\n          ElMessage.error({\n            type: 'error',offset:60,\n            message: res.msg\n          })\n        }\n      }).catch(err => {\n        scope.row.connectLoading = false\n        console.log(\"err\",err)\n      })\n\n    },\n    handleSizeChange(v) {\n      this.input.limit = v\n      this.getList(1)\n    },\n    async getList(page) {\n      !page ? this.input.page = 1 :  this.input.page = page\n      this.getListLoading = true\n      const res = await ListAction({\n        page:page,\n        page_size: this.input.limit\n      })\n      this.getListLoading = false\n      if (res.code != 0) {\n        ElMessage.error({\n          type: 'error',offset:60,\n          message: res.msg\n        })\n        return\n      }\n      ElMessage.success({\n        type: 'success',offset:60,\n        message: res.msg\n      })\n\n      for (const k in res.data.list) {\n        if(res.data.list[k].es_link_configs == null){\n          res.data.list[k].es_link_configs = []\n        }\n        for (const k2 in res.data.list[k].es_link_configs) {\n          res.data.list[k].es_link_configs[k2]['connectLoading'] = false\n        }\n      }\n      this.count = res.data.count\n      this.list = res.data.list\n    },\n    handleAddRole() {\n      this.link = Object.assign({}, defaultLink)\n      this.dialogType = 'new'\n      this.dialogVisible = true\n    },\n    handleEdit(scope) {\n      this.dialogType = 'edit'\n      this.dialogVisible = true\n      this.checkStrictly = true\n\n      this.link.id = scope.row.id\n      this.link.remark =  scope.row.remark\n      this.link.version = scope.row.version\n      this.link.ip = scope.row.ip\n      this.link.cfgIds = []\n\n      for(let v of scope.row.es_link_configs){\n        this.link.cfgIds.push(v.id)\n      }\n    },\n    async deleteEsCfgAction(scope){\n      let res = await DeleteEsCfgAction({id:scope.row.id})\n      if (res.code != 0) {\n        ElMessage.error({\n          type: 'error',offset:60,\n          message: res.msg\n        })\n        return\n      }\n      ElMessage.success({\n        type: 'success',offset:60,\n        message: res.msg\n      })\n      this.getList()\n    },\n    handleDelete({ $index, row }) {\n      ElMessageBox.confirm('确定删除该数据源吗?', '警告', {\n        confirmButtonText: '确认',\n        cancelButtonText: '取消',\n        type: 'warning'\n      })\n        .then(async() => {\n          const res = await DeleteAction({ id: row.id })\n          if (res.code != 0) {\n            ElMessage.error({\n              type: 'error',offset:60,\n              message: res.msg\n            })\n            return\n          }\n          this.getList(1)\n        })\n        .catch(err => {\n          console.error(err)\n        })\n    },\n    async confirm() {\n\n      const isEdit = this.dialogType === 'edit'\n\n      if (isEdit) {\n        const res = await UpdateAction(this.link)\n        if (res.code != 0) {\n          ElMessage.error({\n            type: 'error',offset:60,\n            message: res.msg\n          })\n          return\n        }\n        this.getList(1)\n      } else {\n        const res = await InsertAction(this.link)\n        if (res.code != 0) {\n          ElMessage.error({\n            type: 'error',offset:60,\n            message: res.msg\n          })\n          return\n        }\n        this.getList(1)\n      }\n\n      this.dialogVisible = false\n      ElMessage.success({\n        type: 'success',offset:60,\n        message: isEdit ? '修改成功' : '创建成功'\n      })\n    },\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n"],"names":["defaultLink","id","ip","remark","version","cfgIds","_hoisted_1","class","_hoisted_2","_hoisted_3","setup","appStore","useAppStore","device","storeToRefs","Edit","Delete","data","input","page","limit","count","esCfgOptlist","managerFormdialogVisible","default_expand_all","getListLoading","usernameWord","value","testConnectLoading","connectLoading","loadingMap","link","Object","assign","list","dialogVisible","dialogType","dialogEditCfgVisible","addEsCfgForm","es_link_id","user","pwd","rootpem","certpem","keypem","share_roles","editEsCfgForm","linkId","selectEsLinkId","selectEsVersion","selectEsIp","roleMap","roleList","allRoleConfig","expandRowKeys","created","this","getEsCfgOpt","initAllRoles","getList","computed","isMobile","DeviceEnum","MOBILE","methods","changeVersion","changeExpand","map","item","getRowKey","row","handleExpandChange","expandedRows","i","push","length","deleteEsCfgRelation","scope2","ElMessageBox","confirm","confirmButtonText","cancelButtonText","type","then","async","res","DeleteEsCfgRelation","cfg_relation_id","code","ElMessage","error","offset","message","msg","catch","err","console","filterMethod","query","label","indexOf","GetEsCfgOpt","roleOption","v","name","testConnect","scope","PingAction","header","success","log","handleSizeChange","ListAction","page_size","k","es_link_configs","k2","handleAddRole","handleEdit","checkStrictly","deleteEsCfgAction","DeleteEsCfgAction","handleDelete","$index","DeleteAction","isEdit","UpdateAction","InsertAction","_openBlock","_createElementBlock","_createElementVNode","_createVNode","_component_el_form","inline","default","_withCtx","_component_el_form_item","_component_el_button","onClick","$options","_createTextVNode","_toDisplayString","_ctx","$t","_","_component_el_switch","onChange","modelValue","$data","_cache","$event","_component_el_card","shadow","_createBlock","_component_el_table","onExpandChange","_component_el_table_column","width","props","style","align","_Fragment","_renderList","index","_component_el_tag","fixed","disabled","updated","icon","$setup","_component_el_pagination","background","total","onCurrentChange","onSizeChange","_component_el_drawer","size","title","footer","model","_component_el_input","clearable","placeholder","_component_el_select","filterable","_component_el_option","multiple","key"],"mappings":"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"}